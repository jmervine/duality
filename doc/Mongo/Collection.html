<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <!-- RD version: 0.10.0  -->
  <meta content="text/html; charset=US-ASCII" http-equiv="Content-Type" />
  <title>Class: Mongo::Collection</title>
  <link rel="stylesheet" href="../css/obf.css" >

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 

 
<script src="../js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 
</head>

<body id="top" class="class">
<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'>
  <li class='grid-2' ><a href='/' target='_top' >Home</a></li>
  <li class='grid-5 right' id='rd-action-search'><form id="searchbox_011815814100681837392:wnccv6st5qk" action="/search.html"><input type="hidden" name="cx" value="011815814100681837392:wnccv6st5qk" ><input name="q" type="text" size="20" >&#160;&#160;<input type="submit" name="sa" value="Search" ><input type="hidden" name="cof" value="FORID:9" ></form>
</li>
</ul>
</div>
</div> <!-- end action bar -->
 <div class='wrapper'>
  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../vendor/bundle/ruby/1_9_1/gems/mongo-1_6_4/lib/mongo/collection_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb">vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="../Object.html">Object</a></p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-3C-3C">#<<</a></li>
          
          <li><a href="#method-i-5B-5D">#[]</a></li>
          
          <li><a href="#method-i-capped-3F">#capped?</a></li>
          
          <li><a href="#method-i-count">#count</a></li>
          
          <li><a href="#method-i-create_index">#create_index</a></li>
          
          <li><a href="#method-i-distinct">#distinct</a></li>
          
          <li><a href="#method-i-drop">#drop</a></li>
          
          <li><a href="#method-i-drop_index">#drop_index</a></li>
          
          <li><a href="#method-i-drop_indexes">#drop_indexes</a></li>
          
          <li><a href="#method-i-ensure_index">#ensure_index</a></li>
          
          <li><a href="#method-i-find">#find</a></li>
          
          <li><a href="#method-i-find_and_modify">#find_and_modify</a></li>
          
          <li><a href="#method-i-find_one">#find_one</a></li>
          
          <li><a href="#method-i-group">#group</a></li>
          
          <li><a href="#method-i-hint-3D">#hint=</a></li>
          
          <li><a href="#method-i-index_information">#index_information</a></li>
          
          <li><a href="#method-i-insert">#insert</a></li>
          
          <li><a href="#method-i-map_reduce">#map_reduce</a></li>
          
          <li><a href="#method-i-mapreduce">#mapreduce</a></li>
          
          <li><a href="#method-i-normalize_hint_fields">#normalize_hint_fields</a></li>
          
          <li><a href="#method-i-options">#options</a></li>
          
          <li><a href="#method-i-read_preference">#read_preference</a></li>
          
          <li><a href="#method-i-remove">#remove</a></li>
          
          <li><a href="#method-i-rename">#rename</a></li>
          
          <li><a href="#method-i-save">#save</a></li>
          
          <li><a href="#method-i-size">#size</a></li>
          
          <li><a href="#method-i-stats">#stats</a></li>
          
          <li><a href="#method-i-update">#update</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="Logging.html">Mongo::Logging</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../Gemfile.html">Gemfile</a></li>
        
          <li class="file"><a href="../Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/bin/htmldiff.html">htmldiff</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/bin/ldiff.html">ldiff</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/bundler/gems/rdoc-rubydoc-3e216dd78f8d/HISTORY_rdoc.html">HISTORY.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/bundler/gems/rdoc-rubydoc-3e216dd78f8d/Manifest_txt.html">Manifest.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/bundler/gems/rdoc-rubydoc-3e216dd78f8d/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/bundler/gems/rdoc-rubydoc-3e216dd78f8d/test/data/HISTORY_rdoc.html">HISTORY.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/bundler/gems/rdoc-rubydoc-3e216dd78f8d/test/data/README_rdoc.html">README.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/cache/bundler/git/rdoc-rubydoc-698b8be19956835ee0b99582c31910dee4e83bff/HEAD.html">HEAD</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/cache/bundler/git/rdoc-rubydoc-698b8be19956835ee0b99582c31910dee4e83bff/config.html">config</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/cache/bundler/git/rdoc-rubydoc-698b8be19956835ee0b99582c31910dee4e83bff/description.html">description</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/cache/bundler/git/rdoc-rubydoc-698b8be19956835ee0b99582c31910dee4e83bff/info/exclude.html">exclude</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/cache/bundler/git/rdoc-rubydoc-698b8be19956835ee0b99582c31910dee4e83bff/packed-refs.html">packed-refs</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/bson-1_6_4/LICENSE_txt.html">LICENSE.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/bson-1_6_4/bin/b2json.html">b2json</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/bson-1_6_4/bin/j2bson.html">j2bson</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/bson_ext-1_6_4/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/bson_ext-1_6_4/ext/cbson/Makefile.html">Makefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diff-lcs-1_1_3/History_rdoc.html">History.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diff-lcs-1_1_3/Manifest_txt.html">Manifest.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diff-lcs-1_1_3/README_rdoc.html">README.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diff-lcs-1_1_3/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diff-lcs-1_1_3/bin/htmldiff.html">htmldiff</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diff-lcs-1_1_3/bin/ldiff.html">ldiff</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diff-lcs-1_1_3/docs/COPYING_txt.html">COPYING.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diskcached-1_1_0/Gemfile.html">Gemfile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/diskcached-1_1_0/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/COPYING.html">COPYING</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/COPYING-json-jruby.html">COPYING-json-jruby</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/GPL.html">GPL</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/Gemfile.html">Gemfile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/README_rdoc.html">README.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/TODO.html">TODO</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/VERSION.html">VERSION</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/ext/json/ext/generator/Makefile.html">Makefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/ext/json/ext/generator/depend.html">depend</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/ext/json/ext/parser/Makefile.html">Makefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/json-1_7_3/ext/json/ext/parser/depend.html">depend</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/mongo-1_6_4/LICENSE_txt.html">LICENSE.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/mongo-1_6_4/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/mongocached-1_0_2/Gemfile.html">Gemfile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/mongocached-1_0_2/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/MIT-LICENSE.html">MIT-LICENSE</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/README_rdoc.html">README.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/TODO.html">TODO</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/command_line_usage_rdoc.html">command_line_usage.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/example/Rakefile1.html">Rakefile1</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/example/Rakefile2.html">Rakefile2</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/glossary_rdoc.html">glossary.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/proto_rake_rdoc.html">proto_rake.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/rakefile_rdoc.html">rakefile.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/rational_rdoc.html">rational.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_4_14_rdoc.html">rake-0.4.14.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_4_15_rdoc.html">rake-0.4.15.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_5_0_rdoc.html">rake-0.5.0.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_5_3_rdoc.html">rake-0.5.3.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_5_4_rdoc.html">rake-0.5.4.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_6_0_rdoc.html">rake-0.6.0.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_7_0_rdoc.html">rake-0.7.0.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_7_1_rdoc.html">rake-0.7.1.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_7_2_rdoc.html">rake-0.7.2.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_7_3_rdoc.html">rake-0.7.3.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_8_0_rdoc.html">rake-0.8.0.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_8_4_rdoc.html">rake-0.8.4.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_8_5_rdoc.html">rake-0.8.5.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_8_6_rdoc.html">rake-0.8.6.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rake-0_9_2_2/doc/release_notes/rake-0_8_7_rdoc.html">rake-0.8.7.rdoc</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rspec-2_11_0/License_txt.html">License.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rspec-core-2_11_1/License_txt.html">License.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rspec-expectations-2_11_1/License_txt.html">License.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/rspec-mocks-2_11_1/License_txt.html">License.txt</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/simplecov-0_6_4/Appraisals.html">Appraisals</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/simplecov-0_6_4/Gemfile.html">Gemfile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/simplecov-0_6_4/LICENSE.html">LICENSE</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/simplecov-0_6_4/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/simplecov-0_6_4/test/faked_project/Gemfile.html">Gemfile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/simplecov-0_6_4/test/faked_project/Rakefile.html">Rakefile</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/simplecov-html-0_5_3/LICENSE.html">LICENSE</a></li>
        
          <li class="file"><a href="../vendor/bundle/ruby/1_9_1/gems/simplecov-html-0_5_3/README_rdoc.html">README.rdoc</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../RSpec.html">RSpec</a></li>
        
          <li><a href="../RSpec/Core.html">RSpec::Core</a></li>
        
          <li><a href="../RSpec/Core/CommandLine.html">RSpec::Core::CommandLine</a></li>
        
          <li><a href="../RSpec/Core/Configuration.html">RSpec::Core::Configuration</a></li>
        
          <li><a href="../RSpec/Core/Configuration/MustBeConfiguredBeforeExampleGroupsError.html">RSpec::Core::Configuration::MustBeConfiguredBeforeExampleGroupsError</a></li>
        
          <li><a href="../RSpec/Core/ConfigurationOptions.html">RSpec::Core::ConfigurationOptions</a></li>
        
          <li><a href="../RSpec/Core/ConstMissing.html">RSpec::Core::ConstMissing</a></li>
        
          <li><a href="../RSpec/Core/DRbCommandLine.html">RSpec::Core::DRbCommandLine</a></li>
        
          <li><a href="../RSpec/Core/DSL.html">RSpec::Core::DSL</a></li>
        
          <li><a href="../RSpec/Core/DrbOptions.html">RSpec::Core::DrbOptions</a></li>
        
          <li><a href="../RSpec/Core/Example.html">RSpec::Core::Example</a></li>
        
          <li><a href="../RSpec/Core/Example/NotPendingExampleFixed.html">RSpec::Core::Example::NotPendingExampleFixed</a></li>
        
          <li><a href="../RSpec/Core/Example/Procsy.html">RSpec::Core::Example::Procsy</a></li>
        
          <li><a href="../RSpec/Core/ExampleGroup.html">RSpec::Core::ExampleGroup</a></li>
        
          <li><a href="../RSpec/Core/Extensions.html">RSpec::Core::Extensions</a></li>
        
          <li><a href="../RSpec/Core/Extensions/InstanceEvalWithArgs.html">RSpec::Core::Extensions::InstanceEvalWithArgs</a></li>
        
          <li><a href="../RSpec/Core/Extensions/ModuleEvalWithArgs.html">RSpec::Core::Extensions::ModuleEvalWithArgs</a></li>
        
          <li><a href="../RSpec/Core/Extensions/Ordered.html">RSpec::Core::Extensions::Ordered</a></li>
        
          <li><a href="../RSpec/Core/FilterManager.html">RSpec::Core::FilterManager</a></li>
        
          <li><a href="../RSpec/Core/FilterManager/BackwardCompatibility.html">RSpec::Core::FilterManager::BackwardCompatibility</a></li>
        
          <li><a href="../RSpec/Core/FilterManager/Describable.html">RSpec::Core::FilterManager::Describable</a></li>
        
          <li><a href="../RSpec/Core/Formatters.html">RSpec::Core::Formatters</a></li>
        
          <li><a href="../RSpec/Core/Formatters/BaseFormatter.html">RSpec::Core::Formatters::BaseFormatter</a></li>
        
          <li><a href="../RSpec/Core/Formatters/BaseTextFormatter.html">RSpec::Core::Formatters::BaseTextFormatter</a></li>
        
          <li><a href="../RSpec/Core/Formatters/DocumentationFormatter.html">RSpec::Core::Formatters::DocumentationFormatter</a></li>
        
          <li><a href="../RSpec/Core/Formatters/Helpers.html">RSpec::Core::Formatters::Helpers</a></li>
        
          <li><a href="../RSpec/Core/Formatters/HtmlFormatter.html">RSpec::Core::Formatters::HtmlFormatter</a></li>
        
          <li><a href="../RSpec/Core/Formatters/ProgressFormatter.html">RSpec::Core::Formatters::ProgressFormatter</a></li>
        
          <li><a href="../RSpec/Core/Formatters/SnippetExtractor.html">RSpec::Core::Formatters::SnippetExtractor</a></li>
        
          <li><a href="../RSpec/Core/Formatters/SnippetExtractor/NullConverter.html">RSpec::Core::Formatters::SnippetExtractor::NullConverter</a></li>
        
          <li><a href="../RSpec/Core/Formatters/TextMateFormatter.html">RSpec::Core::Formatters::TextMateFormatter</a></li>
        
          <li><a href="../RSpec/Core/Hooks.html">RSpec::Core::Hooks</a></li>
        
          <li><a href="../RSpec/Core/Hooks/AfterHookExtension.html">RSpec::Core::Hooks::AfterHookExtension</a></li>
        
          <li><a href="../RSpec/Core/Hooks/AroundHookCollection.html">RSpec::Core::Hooks::AroundHookCollection</a></li>
        
          <li><a href="../RSpec/Core/Hooks/AroundHookExtension.html">RSpec::Core::Hooks::AroundHookExtension</a></li>
        
          <li><a href="../RSpec/Core/Hooks/BeforeHookExtension.html">RSpec::Core::Hooks::BeforeHookExtension</a></li>
        
          <li><a href="../RSpec/Core/Hooks/GroupHookCollection.html">RSpec::Core::Hooks::GroupHookCollection</a></li>
        
          <li><a href="../RSpec/Core/Hooks/HookCollection.html">RSpec::Core::Hooks::HookCollection</a></li>
        
          <li><a href="../RSpec/Core/Hooks/HookCollectionAliases.html">RSpec::Core::Hooks::HookCollectionAliases</a></li>
        
          <li><a href="../RSpec/Core/Hooks/HookExtension.html">RSpec::Core::Hooks::HookExtension</a></li>
        
          <li><a href="../RSpec/Core/Hooks/RegistersGlobals.html">RSpec::Core::Hooks::RegistersGlobals</a></li>
        
          <li><a href="../RSpec/Core/Let.html">RSpec::Core::Let</a></li>
        
          <li><a href="../RSpec/Core/Let/ExampleGroupMethods.html">RSpec::Core::Let::ExampleGroupMethods</a></li>
        
          <li><a href="../RSpec/Core/Let/ExampleMethods.html">RSpec::Core::Let::ExampleMethods</a></li>
        
          <li><a href="../RSpec/Core/Metadata.html">RSpec::Core::Metadata</a></li>
        
          <li><a href="../RSpec/Core/Metadata/ExampleMetadataHash.html">RSpec::Core::Metadata::ExampleMetadataHash</a></li>
        
          <li><a href="../RSpec/Core/Metadata/GroupMetadataHash.html">RSpec::Core::Metadata::GroupMetadataHash</a></li>
        
          <li><a href="../RSpec/Core/Metadata/MetadataHash.html">RSpec::Core::Metadata::MetadataHash</a></li>
        
          <li><a href="../RSpec/Core/MetadataHashBuilder.html">RSpec::Core::MetadataHashBuilder</a></li>
        
          <li><a href="../RSpec/Core/MetadataHashBuilder/Common.html">RSpec::Core::MetadataHashBuilder::Common</a></li>
        
          <li><a href="../RSpec/Core/MetadataHashBuilder/WithConfigWarning.html">RSpec::Core::MetadataHashBuilder::WithConfigWarning</a></li>
        
          <li><a href="../RSpec/Core/MetadataHashBuilder/WithDeprecationWarning.html">RSpec::Core::MetadataHashBuilder::WithDeprecationWarning</a></li>
        
          <li><a href="../RSpec/Core/MockFrameworkAdapter.html">RSpec::Core::MockFrameworkAdapter</a></li>
        
          <li><a href="../RSpec/Core/Parser.html">RSpec::Core::Parser</a></li>
        
          <li><a href="../RSpec/Core/Pending.html">RSpec::Core::Pending</a></li>
        
          <li><a href="../RSpec/Core/Pending/PendingDeclaredInExample.html">RSpec::Core::Pending::PendingDeclaredInExample</a></li>
        
          <li><a href="../RSpec/Core/Pending/PendingExampleFixedError.html">RSpec::Core::Pending::PendingExampleFixedError</a></li>
        
          <li><a href="../RSpec/Core/ProjectInitializer.html">RSpec::Core::ProjectInitializer</a></li>
        
          <li><a href="../RSpec/Core/RakeTask.html">RSpec::Core::RakeTask</a></li>
        
          <li><a href="../RSpec/Core/Reporter.html">RSpec::Core::Reporter</a></li>
        
          <li><a href="../RSpec/Core/RubyProject.html">RSpec::Core::RubyProject</a></li>
        
          <li><a href="../RSpec/Core/Runner.html">RSpec::Core::Runner</a></li>
        
          <li><a href="../RSpec/Core/SharedContext.html">RSpec::Core::SharedContext</a></li>
        
          <li><a href="../RSpec/Core/SharedExampleGroup.html">RSpec::Core::SharedExampleGroup</a></li>
        
          <li><a href="../RSpec/Core/Subject.html">RSpec::Core::Subject</a></li>
        
          <li><a href="../RSpec/Core/Subject/ExampleGroupMethods.html">RSpec::Core::Subject::ExampleGroupMethods</a></li>
        
          <li><a href="../RSpec/Core/Subject/ExampleMethods.html">RSpec::Core::Subject::ExampleMethods</a></li>
        
          <li><a href="../RSpec/Core/Version.html">RSpec::Core::Version</a></li>
        
          <li><a href="../RSpec/Core/World.html">RSpec::Core::World</a></li>
        
          <li><a href="../RSpec/Expectations.html">RSpec::Expectations</a></li>
        
          <li><a href="../RSpec/Expectations/DeprecatedConstants.html">RSpec::Expectations::DeprecatedConstants</a></li>
        
          <li><a href="../RSpec/Expectations/Differ.html">RSpec::Expectations::Differ</a></li>
        
          <li><a href="../RSpec/Expectations/ExpectationNotMetError.html">RSpec::Expectations::ExpectationNotMetError</a></li>
        
          <li><a href="../RSpec/Expectations/ExpectationTarget.html">RSpec::Expectations::ExpectationTarget</a></li>
        
          <li><a href="../RSpec/Expectations/NegativeExpectationHandler.html">RSpec::Expectations::NegativeExpectationHandler</a></li>
        
          <li><a href="../RSpec/Expectations/PositiveExpectationHandler.html">RSpec::Expectations::PositiveExpectationHandler</a></li>
        
          <li><a href="../RSpec/Expectations/Syntax.html">RSpec::Expectations::Syntax</a></li>
        
          <li><a href="../RSpec/Expectations/Version.html">RSpec::Expectations::Version</a></li>
        
          <li><a href="../RSpec/Matchers.html">RSpec::Matchers</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn.html">RSpec::Matchers::BuiltIn</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BaseMatcher.html">RSpec::Matchers::BuiltIn::BaseMatcher</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Be.html">RSpec::Matchers::BuiltIn::Be</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BeAKindOf.html">RSpec::Matchers::BuiltIn::BeAKindOf</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BeAnInstanceOf.html">RSpec::Matchers::BuiltIn::BeAnInstanceOf</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BeComparedTo.html">RSpec::Matchers::BuiltIn::BeComparedTo</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BeFalse.html">RSpec::Matchers::BuiltIn::BeFalse</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BeNil.html">RSpec::Matchers::BuiltIn::BeNil</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BePredicate.html">RSpec::Matchers::BuiltIn::BePredicate</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BeTrue.html">RSpec::Matchers::BuiltIn::BeTrue</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/BeWithin.html">RSpec::Matchers::BuiltIn::BeWithin</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Change.html">RSpec::Matchers::BuiltIn::Change</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Cover.html">RSpec::Matchers::BuiltIn::Cover</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/EndWith.html">RSpec::Matchers::BuiltIn::EndWith</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Eq.html">RSpec::Matchers::BuiltIn::Eq</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Eql.html">RSpec::Matchers::BuiltIn::Eql</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Equal.html">RSpec::Matchers::BuiltIn::Equal</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Exist.html">RSpec::Matchers::BuiltIn::Exist</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Has.html">RSpec::Matchers::BuiltIn::Has</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Have.html">RSpec::Matchers::BuiltIn::Have</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Include.html">RSpec::Matchers::BuiltIn::Include</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Match.html">RSpec::Matchers::BuiltIn::Match</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/MatchArray.html">RSpec::Matchers::BuiltIn::MatchArray</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/NegativeOperatorMatcher.html">RSpec::Matchers::BuiltIn::NegativeOperatorMatcher</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/PositiveOperatorMatcher.html">RSpec::Matchers::BuiltIn::PositiveOperatorMatcher</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/RaiseError.html">RSpec::Matchers::BuiltIn::RaiseError</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/RespondTo.html">RSpec::Matchers::BuiltIn::RespondTo</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/Satisfy.html">RSpec::Matchers::BuiltIn::Satisfy</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/StartAndEndWith.html">RSpec::Matchers::BuiltIn::StartAndEndWith</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/StartWith.html">RSpec::Matchers::BuiltIn::StartWith</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/ThrowSymbol.html">RSpec::Matchers::BuiltIn::ThrowSymbol</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/YieldControl.html">RSpec::Matchers::BuiltIn::YieldControl</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/YieldProbe.html">RSpec::Matchers::BuiltIn::YieldProbe</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/YieldSuccessiveArgs.html">RSpec::Matchers::BuiltIn::YieldSuccessiveArgs</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/YieldWithArgs.html">RSpec::Matchers::BuiltIn::YieldWithArgs</a></li>
        
          <li><a href="../RSpec/Matchers/BuiltIn/YieldWithNoArgs.html">RSpec::Matchers::BuiltIn::YieldWithNoArgs</a></li>
        
          <li><a href="../RSpec/Matchers/Configuration.html">RSpec::Matchers::Configuration</a></li>
        
          <li><a href="../RSpec/Matchers/DSL.html">RSpec::Matchers::DSL</a></li>
        
          <li><a href="../RSpec/Matchers/DSL/Matcher.html">RSpec::Matchers::DSL::Matcher</a></li>
        
          <li><a href="../RSpec/Matchers/Extensions.html">RSpec::Matchers::Extensions</a></li>
        
          <li><a href="../RSpec/Matchers/Extensions/InstanceEvalWithArgs.html">RSpec::Matchers::Extensions::InstanceEvalWithArgs</a></li>
        
          <li><a href="../RSpec/Matchers/OperatorMatcher.html">RSpec::Matchers::OperatorMatcher</a></li>
        
          <li><a href="../RSpec/Matchers/Pretty.html">RSpec::Matchers::Pretty</a></li>
        
          <li><a href="../RSpec/Mocks.html">RSpec::Mocks</a></li>
        
          <li><a href="../RSpec/Mocks/AmbiguousReturnError.html">RSpec::Mocks::AmbiguousReturnError</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance.html">RSpec::Mocks::AnyInstance</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance/Chain.html">RSpec::Mocks::AnyInstance::Chain</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance/ExpectationChain.html">RSpec::Mocks::AnyInstance::ExpectationChain</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance/MessageChains.html">RSpec::Mocks::AnyInstance::MessageChains</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance/NegativeExpectationChain.html">RSpec::Mocks::AnyInstance::NegativeExpectationChain</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance/PositiveExpectationChain.html">RSpec::Mocks::AnyInstance::PositiveExpectationChain</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance/Recorder.html">RSpec::Mocks::AnyInstance::Recorder</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance/StubChain.html">RSpec::Mocks::AnyInstance::StubChain</a></li>
        
          <li><a href="../RSpec/Mocks/AnyInstance/StubChainChain.html">RSpec::Mocks::AnyInstance::StubChainChain</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentListMatcher.html">RSpec::Mocks::ArgumentListMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers.html">RSpec::Mocks::ArgumentMatchers</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/AnyArgMatcher.html">RSpec::Mocks::ArgumentMatchers::AnyArgMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/AnyArgsMatcher.html">RSpec::Mocks::ArgumentMatchers::AnyArgsMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/BooleanMatcher.html">RSpec::Mocks::ArgumentMatchers::BooleanMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/DuckTypeMatcher.html">RSpec::Mocks::ArgumentMatchers::DuckTypeMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/EqualityProxy.html">RSpec::Mocks::ArgumentMatchers::EqualityProxy</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/HashExcludingMatcher.html">RSpec::Mocks::ArgumentMatchers::HashExcludingMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/HashIncludingMatcher.html">RSpec::Mocks::ArgumentMatchers::HashIncludingMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/InstanceOf.html">RSpec::Mocks::ArgumentMatchers::InstanceOf</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/KindOf.html">RSpec::Mocks::ArgumentMatchers::KindOf</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/MatcherMatcher.html">RSpec::Mocks::ArgumentMatchers::MatcherMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/NoArgsMatcher.html">RSpec::Mocks::ArgumentMatchers::NoArgsMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/ArgumentMatchers/RegexpMatcher.html">RSpec::Mocks::ArgumentMatchers::RegexpMatcher</a></li>
        
          <li><a href="../RSpec/Mocks/Constant.html">RSpec::Mocks::Constant</a></li>
        
          <li><a href="../RSpec/Mocks/ConstantStubber.html">RSpec::Mocks::ConstantStubber</a></li>
        
          <li><a href="../RSpec/Mocks/ConstantStubber/BaseStubber.html">RSpec::Mocks::ConstantStubber::BaseStubber</a></li>
        
          <li><a href="../RSpec/Mocks/ConstantStubber/DefinedConstantReplacer.html">RSpec::Mocks::ConstantStubber::DefinedConstantReplacer</a></li>
        
          <li><a href="../RSpec/Mocks/ConstantStubber/UndefinedConstantSetter.html">RSpec::Mocks::ConstantStubber::UndefinedConstantSetter</a></li>
        
          <li><a href="../RSpec/Mocks/ErrorGenerator.html">RSpec::Mocks::ErrorGenerator</a></li>
        
          <li><a href="../RSpec/Mocks/ExampleMethods.html">RSpec::Mocks::ExampleMethods</a></li>
        
          <li><a href="../RSpec/Mocks/InstanceExec.html">RSpec::Mocks::InstanceExec</a></li>
        
          <li><a href="../RSpec/Mocks/MessageExpectation.html">RSpec::Mocks::MessageExpectation</a></li>
        
          <li><a href="../RSpec/Mocks/MethodDouble.html">RSpec::Mocks::MethodDouble</a></li>
        
          <li><a href="../RSpec/Mocks/Methods.html">RSpec::Mocks::Methods</a></li>
        
          <li><a href="../RSpec/Mocks/Mock.html">RSpec::Mocks::Mock</a></li>
        
          <li><a href="../RSpec/Mocks/MockExpectationError.html">RSpec::Mocks::MockExpectationError</a></li>
        
          <li><a href="../RSpec/Mocks/NegativeMessageExpectation.html">RSpec::Mocks::NegativeMessageExpectation</a></li>
        
          <li><a href="../RSpec/Mocks/OrderGroup.html">RSpec::Mocks::OrderGroup</a></li>
        
          <li><a href="../RSpec/Mocks/Proxy.html">RSpec::Mocks::Proxy</a></li>
        
          <li><a href="../RSpec/Mocks/RecursiveConstMethods.html">RSpec::Mocks::RecursiveConstMethods</a></li>
        
          <li><a href="../RSpec/Mocks/Serialization.html">RSpec::Mocks::Serialization</a></li>
        
          <li><a href="../RSpec/Mocks/Serialization/YAML.html">RSpec::Mocks::Serialization::YAML</a></li>
        
          <li><a href="../RSpec/Mocks/Space.html">RSpec::Mocks::Space</a></li>
        
          <li><a href="../RSpec/Mocks/TestDouble.html">RSpec::Mocks::TestDouble</a></li>
        
          <li><a href="../RSpec/Mocks/Version.html">RSpec::Mocks::Version</a></li>
        
          <li><a href="../RSpec/Rake.html">RSpec::Rake</a></li>
        
          <li><a href="../RSpec/Runner.html">RSpec::Runner</a></li>
        
          <li><a href="../RDoc.html">RDoc</a></li>
        
          <li><a href="../RDoc/Alias.html">RDoc::Alias</a></li>
        
          <li><a href="../RDoc/AnonClass.html">RDoc::AnonClass</a></li>
        
          <li><a href="../RDoc/AnyMethod.html">RDoc::AnyMethod</a></li>
        
          <li><a href="../RDoc/Attr.html">RDoc::Attr</a></li>
        
          <li><a href="../RDoc/ClassModule.html">RDoc::ClassModule</a></li>
        
          <li><a href="../RDoc/CodeObject.html">RDoc::CodeObject</a></li>
        
          <li><a href="../RDoc/Comment.html">RDoc::Comment</a></li>
        
          <li><a href="../RDoc/Constant.html">RDoc::Constant</a></li>
        
          <li><a href="../RDoc/Context.html">RDoc::Context</a></li>
        
          <li><a href="../RDoc/Context/Section.html">RDoc::Context::Section</a></li>
        
          <li><a href="../RDoc/CrossReference.html">RDoc::CrossReference</a></li>
        
          <li><a href="../RDoc/ERBIO.html">RDoc::ERBIO</a></li>
        
          <li><a href="../RDoc/Encoding.html">RDoc::Encoding</a></li>
        
          <li><a href="../RDoc/Error.html">RDoc::Error</a></li>
        
          <li><a href="../RDoc/Gauntlet.html">RDoc::Gauntlet</a></li>
        
          <li><a href="../RDoc/Generator.html">RDoc::Generator</a></li>
        
          <li><a href="../RDoc/Generator/Darkfish.html">RDoc::Generator::Darkfish</a></li>
        
          <li><a href="../RDoc/Generator/JsonIndex.html">RDoc::Generator::JsonIndex</a></li>
        
          <li><a href="../RDoc/Generator/Markup.html">RDoc::Generator::Markup</a></li>
        
          <li><a href="../RDoc/Generator/RI.html">RDoc::Generator::RI</a></li>
        
          <li><a href="../RDoc/Generator/Rubydoc.html">RDoc::Generator::Rubydoc</a></li>
        
          <li><a href="../RDoc/GhostMethod.html">RDoc::GhostMethod</a></li>
        
          <li><a href="../RDoc/Include.html">RDoc::Include</a></li>
        
          <li><a href="../RDoc/Markup.html">RDoc::Markup</a></li>
        
          <li><a href="../RDoc/Markup/AttrChanger.html">RDoc::Markup::AttrChanger</a></li>
        
          <li><a href="../RDoc/Markup/AttrSpan.html">RDoc::Markup::AttrSpan</a></li>
        
          <li><a href="../RDoc/Markup/Attribute.html">RDoc::Markup::Attribute</a></li>
        
          <li><a href="../RDoc/Markup/AttributeManager.html">RDoc::Markup::AttributeManager</a></li>
        
          <li><a href="../RDoc/Markup/BlankLine.html">RDoc::Markup::BlankLine</a></li>
        
          <li><a href="../RDoc/Markup/Document.html">RDoc::Markup::Document</a></li>
        
          <li><a href="../RDoc/Markup/Formatter.html">RDoc::Markup::Formatter</a></li>
        
          <li><a href="../RDoc/Markup/FormatterTestCase.html">RDoc::Markup::FormatterTestCase</a></li>
        
          <li><a href="../RDoc/Markup/Heading.html">RDoc::Markup::Heading</a></li>
        
          <li><a href="../RDoc/Markup/Include.html">RDoc::Markup::Include</a></li>
        
          <li><a href="../RDoc/Markup/IndentedParagraph.html">RDoc::Markup::IndentedParagraph</a></li>
        
          <li><a href="../RDoc/Markup/List.html">RDoc::Markup::List</a></li>
        
          <li><a href="../RDoc/Markup/ListItem.html">RDoc::Markup::ListItem</a></li>
        
          <li><a href="../RDoc/Markup/Paragraph.html">RDoc::Markup::Paragraph</a></li>
        
          <li><a href="../RDoc/Markup/Parser.html">RDoc::Markup::Parser</a></li>
        
          <li><a href="../RDoc/Markup/Parser/Error.html">RDoc::Markup::Parser::Error</a></li>
        
          <li><a href="../RDoc/Markup/Parser/ParseError.html">RDoc::Markup::Parser::ParseError</a></li>
        
          <li><a href="../RDoc/Markup/PreProcess.html">RDoc::Markup::PreProcess</a></li>
        
          <li><a href="../RDoc/Markup/Raw.html">RDoc::Markup::Raw</a></li>
        
          <li><a href="../RDoc/Markup/Rule.html">RDoc::Markup::Rule</a></li>
        
          <li><a href="../RDoc/Markup/Special.html">RDoc::Markup::Special</a></li>
        
          <li><a href="../RDoc/Markup/TextFormatterTestCase.html">RDoc::Markup::TextFormatterTestCase</a></li>
        
          <li><a href="../RDoc/Markup/ToAnsi.html">RDoc::Markup::ToAnsi</a></li>
        
          <li><a href="../RDoc/Markup/ToBs.html">RDoc::Markup::ToBs</a></li>
        
          <li><a href="../RDoc/Markup/ToHtml.html">RDoc::Markup::ToHtml</a></li>
        
          <li><a href="../RDoc/Markup/ToHtmlCrossref.html">RDoc::Markup::ToHtmlCrossref</a></li>
        
          <li><a href="../RDoc/Markup/ToHtmlSnippet.html">RDoc::Markup::ToHtmlSnippet</a></li>
        
          <li><a href="../RDoc/Markup/ToLabel.html">RDoc::Markup::ToLabel</a></li>
        
          <li><a href="../RDoc/Markup/ToRdoc.html">RDoc::Markup::ToRdoc</a></li>
        
          <li><a href="../RDoc/Markup/ToTableOfContents.html">RDoc::Markup::ToTableOfContents</a></li>
        
          <li><a href="../RDoc/Markup/ToTest.html">RDoc::Markup::ToTest</a></li>
        
          <li><a href="../RDoc/Markup/ToTtOnly.html">RDoc::Markup::ToTtOnly</a></li>
        
          <li><a href="../RDoc/Markup/Verbatim.html">RDoc::Markup::Verbatim</a></li>
        
          <li><a href="../RDoc/MetaMethod.html">RDoc::MetaMethod</a></li>
        
          <li><a href="../RDoc/MethodAttr.html">RDoc::MethodAttr</a></li>
        
          <li><a href="../RDoc/NormalClass.html">RDoc::NormalClass</a></li>
        
          <li><a href="../RDoc/NormalModule.html">RDoc::NormalModule</a></li>
        
          <li><a href="../RDoc/Options.html">RDoc::Options</a></li>
        
          <li><a href="../RDoc/Page.html">RDoc::Page</a></li>
        
          <li><a href="../RDoc/Parser.html">RDoc::Parser</a></li>
        
          <li><a href="../RDoc/Parser/C.html">RDoc::Parser::C</a></li>
        
          <li><a href="../RDoc/Parser/RD.html">RDoc::Parser::RD</a></li>
        
          <li><a href="../RDoc/Parser/Ruby.html">RDoc::Parser::Ruby</a></li>
        
          <li><a href="../RDoc/Parser/RubyTools.html">RDoc::Parser::RubyTools</a></li>
        
          <li><a href="../RDoc/Parser/Simple.html">RDoc::Parser::Simple</a></li>
        
          <li><a href="../RDoc/Parser/Text.html">RDoc::Parser::Text</a></li>
        
          <li><a href="../RDoc/RD.html">RDoc::RD</a></li>
        
          <li><a href="../RDoc/RD/Inline.html">RDoc::RD::Inline</a></li>
        
          <li><a href="../RDoc/RDoc.html">RDoc::RDoc</a></li>
        
          <li><a href="../RDoc/RI.html">RDoc::RI</a></li>
        
          <li><a href="../RDoc/RI/Driver.html">RDoc::RI::Driver</a></li>
        
          <li><a href="../RDoc/RI/Driver/Error.html">RDoc::RI::Driver::Error</a></li>
        
          <li><a href="../RDoc/RI/Driver/NotFoundError.html">RDoc::RI::Driver::NotFoundError</a></li>
        
          <li><a href="../RDoc/RI/Error.html">RDoc::RI::Error</a></li>
        
          <li><a href="../RDoc/RI/Paths.html">RDoc::RI::Paths</a></li>
        
          <li><a href="../RDoc/RI/Store.html">RDoc::RI::Store</a></li>
        
          <li><a href="../RDoc/Require.html">RDoc::Require</a></li>
        
          <li><a href="../RDoc/RubyLex.html">RDoc::RubyLex</a></li>
        
          <li><a href="../RDoc/RubyLex/Error.html">RDoc::RubyLex::Error</a></li>
        
          <li><a href="../RDoc/RubyToken.html">RDoc::RubyToken</a></li>
        
          <li><a href="../RDoc/RubyToken/TkError.html">RDoc::RubyToken::TkError</a></li>
        
          <li><a href="../RDoc/RubyToken/TkId.html">RDoc::RubyToken::TkId</a></li>
        
          <li><a href="../RDoc/RubyToken/TkKW.html">RDoc::RubyToken::TkKW</a></li>
        
          <li><a href="../RDoc/RubyToken/TkNode.html">RDoc::RubyToken::TkNode</a></li>
        
          <li><a href="../RDoc/RubyToken/TkOPASGN.html">RDoc::RubyToken::TkOPASGN</a></li>
        
          <li><a href="../RDoc/RubyToken/TkOp.html">RDoc::RubyToken::TkOp</a></li>
        
          <li><a href="../RDoc/RubyToken/TkSYMBOL.html">RDoc::RubyToken::TkSYMBOL</a></li>
        
          <li><a href="../RDoc/RubyToken/TkUnknownChar.html">RDoc::RubyToken::TkUnknownChar</a></li>
        
          <li><a href="../RDoc/RubyToken/TkVal.html">RDoc::RubyToken::TkVal</a></li>
        
          <li><a href="../RDoc/RubyToken/Token.html">RDoc::RubyToken::Token</a></li>
        
          <li><a href="../RDoc/RubygemsHook.html">RDoc::RubygemsHook</a></li>
        
          <li><a href="../RDoc/SingleClass.html">RDoc::SingleClass</a></li>
        
          <li><a href="../RDoc/Stats.html">RDoc::Stats</a></li>
        
          <li><a href="../RDoc/Stats/Normal.html">RDoc::Stats::Normal</a></li>
        
          <li><a href="../RDoc/Stats/Quiet.html">RDoc::Stats::Quiet</a></li>
        
          <li><a href="../RDoc/Stats/Verbose.html">RDoc::Stats::Verbose</a></li>
        
          <li><a href="../RDoc/Task.html">RDoc::Task</a></li>
        
          <li><a href="../RDoc/Task.html">RDoc::Task</a></li>
        
          <li><a href="../RDoc/TestCase.html">RDoc::TestCase</a></li>
        
          <li><a href="../RDoc/TokenStream.html">RDoc::TokenStream</a></li>
        
          <li><a href="../RDoc/TomDoc.html">RDoc::TomDoc</a></li>
        
          <li><a href="../RDoc/TopLevel.html">RDoc::TopLevel</a></li>
        
          <li><a href="../JSON.html">JSON</a></li>
        
          <li><a href="../JSON/CircularDatastructure.html">JSON::CircularDatastructure</a></li>
        
          <li><a href="../JSON/Ext.html">JSON::Ext</a></li>
        
          <li><a href="../JSON/Ext/Generator.html">JSON::Ext::Generator</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods.html">JSON::Ext::Generator::GeneratorMethods</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/Array.html">JSON::Ext::Generator::GeneratorMethods::Array</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/Bignum.html">JSON::Ext::Generator::GeneratorMethods::Bignum</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/FalseClass.html">JSON::Ext::Generator::GeneratorMethods::FalseClass</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/Fixnum.html">JSON::Ext::Generator::GeneratorMethods::Fixnum</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/Float.html">JSON::Ext::Generator::GeneratorMethods::Float</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/Hash.html">JSON::Ext::Generator::GeneratorMethods::Hash</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/NilClass.html">JSON::Ext::Generator::GeneratorMethods::NilClass</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/Object.html">JSON::Ext::Generator::GeneratorMethods::Object</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/String.html">JSON::Ext::Generator::GeneratorMethods::String</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/String/Extend.html">JSON::Ext::Generator::GeneratorMethods::String::Extend</a></li>
        
          <li><a href="../JSON/Ext/Generator/GeneratorMethods/TrueClass.html">JSON::Ext::Generator::GeneratorMethods::TrueClass</a></li>
        
          <li><a href="../JSON/Ext/Generator/State.html">JSON::Ext::Generator::State</a></li>
        
          <li><a href="../JSON/Ext/Parser.html">JSON::Ext::Parser</a></li>
        
          <li><a href="../JSON/GeneratorError.html">JSON::GeneratorError</a></li>
        
          <li><a href="../JSON/GenericObject.html">JSON::GenericObject</a></li>
        
          <li><a href="../JSON/JSONError.html">JSON::JSONError</a></li>
        
          <li><a href="../JSON/MissingUnicodeSupport.html">JSON::MissingUnicodeSupport</a></li>
        
          <li><a href="../JSON/NestingError.html">JSON::NestingError</a></li>
        
          <li><a href="../JSON/ParserError.html">JSON::ParserError</a></li>
        
          <li><a href="../JSON/Pure.html">JSON::Pure</a></li>
        
          <li><a href="../JSON/Pure/Generator.html">JSON::Pure::Generator</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods.html">JSON::Pure::Generator::GeneratorMethods</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/Array.html">JSON::Pure::Generator::GeneratorMethods::Array</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/FalseClass.html">JSON::Pure::Generator::GeneratorMethods::FalseClass</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/Float.html">JSON::Pure::Generator::GeneratorMethods::Float</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/Hash.html">JSON::Pure::Generator::GeneratorMethods::Hash</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/Integer.html">JSON::Pure::Generator::GeneratorMethods::Integer</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/NilClass.html">JSON::Pure::Generator::GeneratorMethods::NilClass</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/Object.html">JSON::Pure::Generator::GeneratorMethods::Object</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/String.html">JSON::Pure::Generator::GeneratorMethods::String</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/String/Extend.html">JSON::Pure::Generator::GeneratorMethods::String::Extend</a></li>
        
          <li><a href="../JSON/Pure/Generator/GeneratorMethods/TrueClass.html">JSON::Pure::Generator::GeneratorMethods::TrueClass</a></li>
        
          <li><a href="../JSON/Pure/Generator/State.html">JSON::Pure::Generator::State</a></li>
        
          <li><a href="../JSON/Pure/Parser.html">JSON::Pure::Parser</a></li>
        
          <li><a href="../JSON/GeneratorError.html">JSON::UnparserError</a></li>
        
          <li><a href="../Mongo.html">Mongo</a></li>
        
          <li><a href="../Mongo/AuthenticationError.html">Mongo::AuthenticationError</a></li>
        
          <li><a href="../Mongo/Collection.html">Mongo::Collection</a></li>
        
          <li><a href="../Mongo/Connection.html">Mongo::Connection</a></li>
        
          <li><a href="../Mongo/ConnectionError.html">Mongo::ConnectionError</a></li>
        
          <li><a href="../Mongo/ConnectionFailure.html">Mongo::ConnectionFailure</a></li>
        
          <li><a href="../Mongo/ConnectionTimeoutError.html">Mongo::ConnectionTimeoutError</a></li>
        
          <li><a href="../Mongo/Constants.html">Mongo::Constants</a></li>
        
          <li><a href="../Mongo/Conversions.html">Mongo::Conversions</a></li>
        
          <li><a href="../Mongo/Cursor.html">Mongo::Cursor</a></li>
        
          <li><a href="../Mongo/DB.html">Mongo::DB</a></li>
        
          <li><a href="../Mongo/Grid.html">Mongo::Grid</a></li>
        
          <li><a href="../Mongo/GridError.html">Mongo::GridError</a></li>
        
          <li><a href="../Mongo/GridExt.html">Mongo::GridExt</a></li>
        
          <li><a href="../Mongo/GridExt/InstanceMethods.html">Mongo::GridExt::InstanceMethods</a></li>
        
          <li><a href="../Mongo/GridFileNotFound.html">Mongo::GridFileNotFound</a></li>
        
          <li><a href="../Mongo/GridFileSystem.html">Mongo::GridFileSystem</a></li>
        
          <li><a href="../Mongo/GridIO.html">Mongo::GridIO</a></li>
        
          <li><a href="../Mongo/GridMD5Failure.html">Mongo::GridMD5Failure</a></li>
        
          <li><a href="../Mongo/InvalidNSName.html">Mongo::InvalidNSName</a></li>
        
          <li><a href="../Mongo/InvalidOperation.html">Mongo::InvalidOperation</a></li>
        
          <li><a href="../Mongo/InvalidSortValueError.html">Mongo::InvalidSortValueError</a></li>
        
          <li><a href="../Mongo/Logging.html">Mongo::Logging</a></li>
        
          <li><a href="../Mongo/MongoArgumentError.html">Mongo::MongoArgumentError</a></li>
        
          <li><a href="../Mongo/MongoDBError.html">Mongo::MongoDBError</a></li>
        
          <li><a href="../Mongo/MongoRubyError.html">Mongo::MongoRubyError</a></li>
        
          <li><a href="../Mongo/Networking.html">Mongo::Networking</a></li>
        
          <li><a href="../Mongo/Node.html">Mongo::Node</a></li>
        
          <li><a href="../Mongo/NodeWithTagsNotFound.html">Mongo::NodeWithTagsNotFound</a></li>
        
          <li><a href="../Mongo/OperationFailure.html">Mongo::OperationFailure</a></li>
        
          <li><a href="../Mongo/OperationTimeout.html">Mongo::OperationTimeout</a></li>
        
          <li><a href="../Mongo/Pool.html">Mongo::Pool</a></li>
        
          <li><a href="../Mongo/PoolManager.html">Mongo::PoolManager</a></li>
        
          <li><a href="../Mongo/ReplSetConnection.html">Mongo::ReplSetConnection</a></li>
        
          <li><a href="../Mongo/ReplicaSetConnectionError.html">Mongo::ReplicaSetConnectionError</a></li>
        
          <li><a href="../Mongo/SSLSocket.html">Mongo::SSLSocket</a></li>
        
          <li><a href="../Mongo/ServerVersion.html">Mongo::ServerVersion</a></li>
        
          <li><a href="../Mongo/Support.html">Mongo::Support</a></li>
        
          <li><a href="../Mongo/TCPSocket.html">Mongo::TCPSocket</a></li>
        
          <li><a href="../Mongo/URIParser.html">Mongo::URIParser</a></li>
        
          <li><a href="../Rake.html">Rake</a></li>
        
          <li><a href="../Rake/AltSystem.html">Rake::AltSystem</a></li>
        
          <li><a href="../Rake/Application.html">Rake::Application</a></li>
        
          <li><a href="../Rake/Cloneable.html">Rake::Cloneable</a></li>
        
          <li><a href="../Rake/CompositePublisher.html">Rake::CompositePublisher</a></li>
        
          <li><a href="../Rake/DSL.html">Rake::DSL</a></li>
        
          <li><a href="../Rake/DefaultLoader.html">Rake::DefaultLoader</a></li>
        
          <li><a href="../Rake/EarlyTime.html">Rake::EarlyTime</a></li>
        
          <li><a href="../Rake/FileCreationTask.html">Rake::FileCreationTask</a></li>
        
          <li><a href="../Rake/FileList.html">Rake::FileList</a></li>
        
          <li><a href="../Rake/FileTask.html">Rake::FileTask</a></li>
        
          <li><a href="../Rake/FileTask.html">Rake::FileTask</a></li>
        
          <li><a href="../Rake/FileUtilsExt.html">Rake::FileUtilsExt</a></li>
        
          <li><a href="../Rake/FtpFile.html">Rake::FtpFile</a></li>
        
          <li><a href="../Rake/FtpUploader.html">Rake::FtpUploader</a></li>
        
          <li><a href="../Rake/InvocationChain.html">Rake::InvocationChain</a></li>
        
          <li><a href="../Rake/InvocationChain/EmptyInvocationChain.html">Rake::InvocationChain::EmptyInvocationChain</a></li>
        
          <li><a href="../Rake/InvocationExceptionMixin.html">Rake::InvocationExceptionMixin</a></li>
        
          <li><a href="../Rake/MakefileLoader.html">Rake::MakefileLoader</a></li>
        
          <li><a href="../Rake/MultiTask.html">Rake::MultiTask</a></li>
        
          <li><a href="../Rake/NameSpace.html">Rake::NameSpace</a></li>
        
          <li><a href="../Rake/PackageTask.html">Rake::PackageTask</a></li>
        
          <li><a href="../Rake/PseudoStatus.html">Rake::PseudoStatus</a></li>
        
          <li><a href="../Rake/RubyForgePublisher.html">Rake::RubyForgePublisher</a></li>
        
          <li><a href="../Rake/RuleRecursionOverflowError.html">Rake::RuleRecursionOverflowError</a></li>
        
          <li><a href="../Rake/SshDirPublisher.html">Rake::SshDirPublisher</a></li>
        
          <li><a href="../Rake/SshFilePublisher.html">Rake::SshFilePublisher</a></li>
        
          <li><a href="../Rake/SshFreshDirPublisher.html">Rake::SshFreshDirPublisher</a></li>
        
          <li><a href="../Rake/Task.html">Rake::Task</a></li>
        
          <li><a href="../Rake/Task.html">Rake::Task</a></li>
        
          <li><a href="../Rake/TaskArgumentError.html">Rake::TaskArgumentError</a></li>
        
          <li><a href="../Rake/TaskArguments.html">Rake::TaskArguments</a></li>
        
          <li><a href="../Rake/TaskLib.html">Rake::TaskLib</a></li>
        
          <li><a href="../Rake/TaskManager.html">Rake::TaskManager</a></li>
        
          <li><a href="../Rake/TestCase.html">Rake::TestCase</a></li>
        
          <li><a href="../Rake/TestCase/TaskManager.html">Rake::TestCase::TaskManager</a></li>
        
          <li><a href="../Rake/TestTask.html">Rake::TestTask</a></li>
        
          <li><a href="../Rake/Win32.html">Rake::Win32</a></li>
        
          <li><a href="../Rake/Win32/Win32HomeError.html">Rake::Win32::Win32HomeError</a></li>
        
          <li><a href="../BSON.html">BSON</a></li>
        
          <li><a href="../BSON/BSONError.html">BSON::BSONError</a></li>
        
          <li><a href="../BSON/BSON_C.html">BSON::BSON_C</a></li>
        
          <li><a href="../BSON/BSON_JAVA.html">BSON::BSON_JAVA</a></li>
        
          <li><a href="../BSON/BSON_RUBY.html">BSON::BSON_RUBY</a></li>
        
          <li><a href="../BSON/Binary.html">BSON::Binary</a></li>
        
          <li><a href="../BSON/ByteBuffer.html">BSON::ByteBuffer</a></li>
        
          <li><a href="../BSON/Code.html">BSON::Code</a></li>
        
          <li><a href="../BSON/DBRef.html">BSON::DBRef</a></li>
        
          <li><a href="../BSON/InvalidDocument.html">BSON::InvalidDocument</a></li>
        
          <li><a href="../BSON/InvalidKeyName.html">BSON::InvalidKeyName</a></li>
        
          <li><a href="../BSON/InvalidObjectId.html">BSON::InvalidObjectId</a></li>
        
          <li><a href="../BSON/InvalidStringEncoding.html">BSON::InvalidStringEncoding</a></li>
        
          <li><a href="../BSON/MaxKey.html">BSON::MaxKey</a></li>
        
          <li><a href="../BSON/MinKey.html">BSON::MinKey</a></li>
        
          <li><a href="../BSON/MongoDBError.html">BSON::MongoDBError</a></li>
        
          <li><a href="../BSON/MongoRubyError.html">BSON::MongoRubyError</a></li>
        
          <li><a href="../BSON/ObjectId.html">BSON::ObjectId</a></li>
        
          <li><a href="../BSON/OrderedHash.html">BSON::OrderedHash</a></li>
        
          <li><a href="../BSON/Timestamp.html">BSON::Timestamp</a></li>
        
          <li><a href="../SimpleCov.html">SimpleCov</a></li>
        
          <li><a href="../SimpleCov/Adapters.html">SimpleCov::Adapters</a></li>
        
          <li><a href="../SimpleCov/ArrayMergeHelper.html">SimpleCov::ArrayMergeHelper</a></li>
        
          <li><a href="../SimpleCov/BlockFilter.html">SimpleCov::BlockFilter</a></li>
        
          <li><a href="../SimpleCov/CommandGuesser.html">SimpleCov::CommandGuesser</a></li>
        
          <li><a href="../SimpleCov/Configuration.html">SimpleCov::Configuration</a></li>
        
          <li><a href="../SimpleCov/CoverageDataError.html">SimpleCov::CoverageDataError</a></li>
        
          <li><a href="../SimpleCov/FileList.html">SimpleCov::FileList</a></li>
        
          <li><a href="../SimpleCov/Filter.html">SimpleCov::Filter</a></li>
        
          <li><a href="../SimpleCov/Formatter.html">SimpleCov::Formatter</a></li>
        
          <li><a href="../SimpleCov/Formatter/HTMLFormatter.html">SimpleCov::Formatter::HTMLFormatter</a></li>
        
          <li><a href="../SimpleCov/Formatter/SimpleFormatter.html">SimpleCov::Formatter::SimpleFormatter</a></li>
        
          <li><a href="../SimpleCov/HashMergeHelper.html">SimpleCov::HashMergeHelper</a></li>
        
          <li><a href="../SimpleCov/Railtie.html">SimpleCov::Railtie</a></li>
        
          <li><a href="../SimpleCov/Result.html">SimpleCov::Result</a></li>
        
          <li><a href="../SimpleCov/ResultMerger.html">SimpleCov::ResultMerger</a></li>
        
          <li><a href="../SimpleCov/SourceFile.html">SimpleCov::SourceFile</a></li>
        
          <li><a href="../SimpleCov/SourceFile/Line.html">SimpleCov::SourceFile::Line</a></li>
        
          <li><a href="../SimpleCov/StringFilter.html">SimpleCov::StringFilter</a></li>
        
          <li><a href="../Diff.html">Diff</a></li>
        
          <li><a href="../Diff/LCS.html">Diff::LCS</a></li>
        
          <li><a href="../Diff/LCS/DefaultCallbacks.html">Diff::LCS::BalancedCallbacks</a></li>
        
          <li><a href="../Diff/LCS/Block.html">Diff::LCS::Block</a></li>
        
          <li><a href="../Diff/LCS/Change.html">Diff::LCS::Change</a></li>
        
          <li><a href="../Diff/LCS/ChangeTypeTests.html">Diff::LCS::ChangeTypeTests</a></li>
        
          <li><a href="../Diff/LCS/ContextChange.html">Diff::LCS::ContextChange</a></li>
        
          <li><a href="../Diff/LCS/ContextDiffCallbacks.html">Diff::LCS::ContextDiffCallbacks</a></li>
        
          <li><a href="../Diff/LCS/DefaultCallbacks.html">Diff::LCS::DefaultCallbacks</a></li>
        
          <li><a href="../Diff/LCS/DiffCallbacks.html">Diff::LCS::DiffCallbacks</a></li>
        
          <li><a href="../Diff/LCS/HTMLDiff.html">Diff::LCS::HTMLDiff</a></li>
        
          <li><a href="../Diff/LCS/HTMLDiff/Callbacks.html">Diff::LCS::HTMLDiff::Callbacks</a></li>
        
          <li><a href="../Diff/LCS/Hunk.html">Diff::LCS::Hunk</a></li>
        
          <li><a href="../Diff/LCS/Ldiff.html">Diff::LCS::Ldiff</a></li>
        
          <li><a href="../Diff/LCS/SDiffCallbacks.html">Diff::LCS::SDiffCallbacks</a></li>
        
          <li><a href="../Diff/LCS/DefaultCallbacks.html">Diff::LCS::SequenceCallbacks</a></li>
        
          <li><a href="../Diff/LCS/SpecHelper.html">Diff::LCS::SpecHelper</a></li>
        
          <li><a href="../Diff/LCS/SpecHelper/Matchers.html">Diff::LCS::SpecHelper::Matchers</a></li>
        
          <li><a href="../MultiJson.html">MultiJson</a></li>
        
          <li><a href="../MultiJson/Adapters.html">MultiJson::Adapters</a></li>
        
          <li><a href="../MultiJson/Adapters/JsonCommon.html">MultiJson::Adapters::JsonCommon</a></li>
        
          <li><a href="../MultiJson/Adapters/JsonGem.html">MultiJson::Adapters::JsonGem</a></li>
        
          <li><a href="../JSON/ParserError.html">MultiJson::Adapters::JsonGem::ParseError</a></li>
        
          <li><a href="../MultiJson/Adapters/JsonPure.html">MultiJson::Adapters::JsonPure</a></li>
        
          <li><a href="../JSON/ParserError.html">MultiJson::Adapters::JsonPure::ParseError</a></li>
        
          <li><a href="../MultiJson/Adapters/Nsjsonserialization.html">MultiJson::Adapters::Nsjsonserialization</a></li>
        
          <li><a href="../MultiJson/OkJson/Error.html">MultiJson::Adapters::Nsjsonserialization::ParseError</a></li>
        
          <li><a href="../MultiJson/Adapters/Oj.html">MultiJson::Adapters::Oj</a></li>
        
          <li><a href="../MultiJson/Adapters/OkJson.html">MultiJson::Adapters::OkJson</a></li>
        
          <li><a href="../MultiJson/OkJson/Error.html">MultiJson::Adapters::OkJson::ParseError</a></li>
        
          <li><a href="../MultiJson/Adapters/Yajl.html">MultiJson::Adapters::Yajl</a></li>
        
          <li><a href="../MultiJson/DecodeError.html">MultiJson::DecodeError</a></li>
        
          <li><a href="../MultiJson/OkJson.html">MultiJson::OkJson</a></li>
        
          <li><a href="../MultiJson/OkJson/Error.html">MultiJson::OkJson::Error</a></li>
        
          <li><a href="../MultiJson/OkJson/Utf8Error.html">MultiJson::OkJson::Utf8Error</a></li>
        
          <li><a href="../TestJSONAddition.html">TestJSONAddition</a></li>
        
          <li><a href="../TestJSONAddition/A.html">TestJSONAddition::A</a></li>
        
          <li><a href="../TestJSONAddition/A2.html">TestJSONAddition::A2</a></li>
        
          <li><a href="../TestJSONAddition/B.html">TestJSONAddition::B</a></li>
        
          <li><a href="../TestJSONAddition/C.html">TestJSONAddition::C</a></li>
        
          <li><a href="../ActiveSupport.html">ActiveSupport</a></li>
        
          <li><a href="../ActiveSupport/HashWithIndifferentAccess.html">ActiveSupport::HashWithIndifferentAccess</a></li>
        
          <li><a href="../ActiveSupport/HashWithIndifferentAccess.html">ActiveSupport::HashWithIndifferentAccess</a></li>
        
          <li><a href="../Duality.html">Duality</a></li>
        
          <li><a href="../Duality/CacheTimeout.html">Duality::CacheTimeout</a></li>
        
          <li><a href="../Duality/NotACache.html">Duality::NotACache</a></li>
        
          <li><a href="../MetaMagic.html">MetaMagic</a></li>
        
          <li><a href="../MetaMagic/ClassMethods.html">MetaMagic::ClassMethods</a></li>
        
          <li><a href="../MetaMagic/InstanceMethods.html">MetaMagic::InstanceMethods</a></li>
        
          <li><a href="../RDocRubydoc.html">RDocRubydoc</a></li>
        
          <li><a href="../RDocRubydoc/Documented.html">RDocRubydoc::Documented</a></li>
        
          <li><a href="../RDocRubydoc/NotDocumented.html">RDocRubydoc::NotDocumented</a></li>
        
          <li><a href="../Test.html">Test</a></li>
        
          <li><a href="../Test/Unit.html">Test::Unit</a></li>
        
          <li><a href="../Test/Unit/TestCase.html">Test::Unit::TestCase</a></li>
        
          <li><a href="../TestRakeExtension.html">TestRakeExtension</a></li>
        
          <li><a href="../TestRakeExtension/Redirect.html">TestRakeExtension::Redirect</a></li>
        
          <li><a href="../TestRakeExtension/Sample.html">TestRakeExtension::Sample</a></li>
        
          <li><a href="../Autotest.html">Autotest</a></li>
        
          <li><a href="../Autotest/Rspec2.html">Autotest::Rspec2</a></li>
        
          <li><a href="../Diskcached.html">Diskcached</a></li>
        
          <li><a href="../Diskcached/NotFound.html">Diskcached::NotFound</a></li>
        
          <li><a href="../Mod2.html">Mod2</a></li>
        
          <li><a href="../Mod1.html">Mod2::Mod3</a></li>
        
          <li><a href="../Mongocached.html">Mongocached</a></li>
        
          <li><a href="../Mongocached/NotFound.html">Mongocached::NotFound</a></li>
        
          <li><a href="../Object.html">Object</a></li>
        
          <li><a href="../ActiveSupport/HashWithIndifferentAccess.html">Object::HashWithIndifferentAccess</a></li>
        
          <li><a href="../TestCollection.html">TestCollection</a></li>
        
          <li><a href="../TestCollection/TestPK.html">TestCollection::TestPK</a></li>
        
          <li><a href="../TestJSONStringMatching.html">TestJSONStringMatching</a></li>
        
          <li><a href="../TestJSONStringMatching/TestTime.html">TestJSONStringMatching::TestTime</a></li>
        
          <li><a href="../TestRakeDsl.html">TestRakeDsl</a></li>
        
          <li><a href="../TestRakeDsl/Foo.html">TestRakeDsl::Foo</a></li>
        
          <li><a href="../TestRakeFileList.html">TestRakeFileList</a></li>
        
          <li><a href="../Rake/FileList.html">TestRakeFileList::FileList</a></li>
        
          <li><a href="../TestRakeFileUtils.html">TestRakeFileUtils</a></li>
        
          <li><a href="../TestRakeFileUtils/BadLink.html">TestRakeFileUtils::BadLink</a></li>
        
          <li><a href="../TestRakeNameSpace.html">TestRakeNameSpace</a></li>
        
          <li><a href="../TestRakeNameSpace/TM.html">TestRakeNameSpace::TM</a></li>
        
          <li><a href="../TestRakeWin32.html">TestRakeWin32</a></li>
        
          <li><a href="../Rake/Win32.html">TestRakeWin32::Win32</a></li>
        
          <li><a href="../Array.html">Array</a></li>
        
          <li><a href="../AuthReplSetManager.html">AuthReplSetManager</a></li>
        
          <li><a href="../AuthTest.html">AuthTest</a></li>
        
          <li><a href="../AuthenticationTest.html">AuthenticationTest</a></li>
        
          <li><a href="../AutoreconnectTest.html">AutoreconnectTest</a></li>
        
          <li><a href="../BasicTest.html">BasicTest</a></li>
        
          <li><a href="../BigDecimal.html">BigDecimal</a></li>
        
          <li><a href="../BinaryTest.html">BinaryTest</a></li>
        
          <li><a href="../ByteBufferTest.html">ByteBufferTest</a></li>
        
          <li><a href="../CBson.html">CBson</a></li>
        
          <li><a href="../Class.html">Class</a></li>
        
          <li><a href="../CollectionTest.html">CollectionTest</a></li>
        
          <li><a href="../Complex.html">Complex</a></li>
        
          <li><a href="../ComplexConnectTest.html">ComplexConnectTest</a></li>
        
          <li><a href="../CompositePublisher.html">CompositePublisher</a></li>
        
          <li><a href="../ConnectTest.html">ConnectTest</a></li>
        
          <li><a href="../ConnectionTest.html">ConnectionTest</a></li>
        
          <li><a href="../ConversionsTest.html">ConversionsTest</a></li>
        
          <li><a href="../CursorFailTest.html">CursorFailTest</a></li>
        
          <li><a href="../CursorMessageTest.html">CursorMessageTest</a></li>
        
          <li><a href="../CursorTest.html">CursorTest</a></li>
        
          <li><a href="../DBAPITest.html">DBAPITest</a></li>
        
          <li><a href="../DBConnectionTest.html">DBConnectionTest</a></li>
        
          <li><a href="../DBTest.html">DBTest</a></li>
        
          <li><a href="../Date.html">Date</a></li>
        
          <li><a href="../DateTime.html">DateTime</a></li>
        
          <li><a href="../Exception.html">Exception</a></li>
        
          <li><a href="../FakeDate.html">FakeDate</a></li>
        
          <li><a href="../FakedProject.html">FakedProject</a></li>
        
          <li><a href="../FakedTest.html">FakedTest</a></li>
        
          <li><a href="../Features14Test.html">Features14Test</a></li>
        
          <li><a href="../FileCreation.html">FileCreation</a></li>
        
          <li><a href="../FileUtils.html">FileUtils</a></li>
        
          <li><a href="../Foo.html">Foo</a></li>
        
          <li><a href="../FooTest.html">FooTest</a></li>
        
          <li><a href="../ForkTest.html">ForkTest</a></li>
        
          <li><a href="../FrameworkSpecific.html">FrameworkSpecific</a></li>
        
          <li><a href="../Fuzzer.html">Fuzzer</a></li>
        
          <li><a href="../GridFileSystemTest.html">GridFileSystemTest</a></li>
        
          <li><a href="../GridIOTest.html">GridIOTest</a></li>
        
          <li><a href="../GridTest.html">GridTest</a></li>
        
          <li><a href="../GroupHelpers.html">GroupHelpers</a></li>
        
          <li><a href="../Hash.html">Hash</a></li>
        
          <li><a href="../HashWithIndifferentAccessTest.html">HashWithIndifferentAccessTest</a></li>
        
          <li><a href="../JSONTest.html">JSONTest</a></li>
        
          <li><a href="../Kernel.html">Kernel</a></li>
        
          <li><a href="../Klass.html">Klass</a></li>
        
          <li><a href="../Load.html">Load</a></li>
        
          <li><a href="../Marshal.html">Marshal</a></li>
        
          <li><a href="../MetaMagicTest.html">MetaMagicTest</a></li>
        
          <li><a href="../Mod1.html">Mod1</a></li>
        
          <li><a href="../Mod3.html">Mod3</a></li>
        
          <li><a href="../Mod4.html">Mod4</a></li>
        
          <li><a href="../Module.html">Module</a></li>
        
          <li><a href="../Mutex.html">Mutex</a></li>
        
          <li><a href="../MyState.html">MyState</a></li>
        
          <li><a href="../NodeTest.html">NodeTest</a></li>
        
          <li><a href="../ObjectIdTest.html">ObjectIdTest</a></li>
        
          <li><a href="../OpenStruct.html">OpenStruct</a></li>
        
          <li><a href="../OrderedHashTest.html">OrderedHashTest</a></li>
        
          <li><a href="../PoolManagerTest.html">PoolManagerTest</a></li>
        
          <li><a href="../PoolTest.html">PoolTest</a></li>
        
          <li><a href="../Psych.html">Psych</a></li>
        
          <li><a href="../RDocRubydocNoContent.html">RDocRubydocNoContent</a></li>
        
          <li><a href="../RDocRubydocWithContent.html">RDocRubydocWithContent</a></li>
        
          <li><a href="../Range.html">Range</a></li>
        
          <li><a href="../Rational.html">Rational</a></li>
        
          <li><a href="../ReadPreferenceTest.html">ReadPreferenceTest</a></li>
        
          <li><a href="../ReadTest.html">ReadTest</a></li>
        
          <li><a href="../Regexp.html">Regexp</a></li>
        
          <li><a href="../ReplSetManager.html">ReplSetManager</a></li>
        
          <li><a href="../ReplicaSetAckTest.html">ReplicaSetAckTest</a></li>
        
          <li><a href="../ReplicaSetCountTest.html">ReplicaSetCountTest</a></li>
        
          <li><a href="../ReplicaSetInsertTest.html">ReplicaSetInsertTest</a></li>
        
          <li><a href="../ReplicaSetPooledInsertTest.html">ReplicaSetPooledInsertTest</a></li>
        
          <li><a href="../ReplicaSetQueryTest.html">ReplicaSetQueryTest</a></li>
        
          <li><a href="../ReplicaSetRefreshTest.html">ReplicaSetRefreshTest</a></li>
        
          <li><a href="../ReplicaSetRefreshWithThreadsTest.html">ReplicaSetRefreshWithThreadsTest</a></li>
        
          <li><a href="../Resultset.html">Resultset</a></li>
        
          <li><a href="../SafeTest.html">SafeTest</a></li>
        
          <li><a href="../ShouldaMacros.html">ShouldaMacros</a></li>
        
          <li><a href="../SlaveConnectionTest.html">SlaveConnectionTest</a></li>
        
          <li><a href="../SomeClass.html">SomeClass</a></li>
        
          <li><a href="../SomeClassTest.html">SomeClassTest</a></li>
        
          <li><a href="../SshDirPublisher.html">SshDirPublisher</a></li>
        
          <li><a href="../SshFilePublisher.html">SshFilePublisher</a></li>
        
          <li><a href="../SshFreshDirPublisher.html">SshFreshDirPublisher</a></li>
        
          <li><a href="../String.html">String</a></li>
        
          <li><a href="../Struct.html">Struct</a></li>
        
          <li><a href="../SupportTest.html">SupportTest</a></li>
        
          <li><a href="../Symbol.html">Symbol</a></li>
        
          <li><a href="../Sys.html">Sys</a></li>
        
          <li><a href="../Test18FallBacks.html">Test18FallBacks</a></li>
        
          <li><a href="../TestCommandGuesser.html">TestCommandGuesser</a></li>
        
          <li><a href="../TestConnection.html">TestConnection</a></li>
        
          <li><a href="../TestDeletedSource.html">TestDeletedSource</a></li>
        
          <li><a href="../TestFileList.html">TestFileList</a></li>
        
          <li><a href="../TestFilters.html">TestFilters</a></li>
        
          <li><a href="../TestJSONFixtures.html">TestJSONFixtures</a></li>
        
          <li><a href="../TestJSONGenerate.html">TestJSONGenerate</a></li>
        
          <li><a href="../TestJSONGenericObject.html">TestJSONGenericObject</a></li>
        
          <li><a href="../TestMergeHelpers.html">TestMergeHelpers</a></li>
        
          <li><a href="../TestPKFactory.html">TestPKFactory</a></li>
        
          <li><a href="../TestRDocGeneratorRubydoc.html">TestRDocGeneratorRubydoc</a></li>
        
          <li><a href="../TestRake.html">TestRake</a></li>
        
          <li><a href="../TestRakeApplication.html">TestRakeApplication</a></li>
        
          <li><a href="../TestRakeApplicationOptions.html">TestRakeApplicationOptions</a></li>
        
          <li><a href="../TestRakeClean.html">TestRakeClean</a></li>
        
          <li><a href="../TestRakeDefinitions.html">TestRakeDefinitions</a></li>
        
          <li><a href="../TestRakeDirectoryTask.html">TestRakeDirectoryTask</a></li>
        
          <li><a href="../TestRakeEarlyTime.html">TestRakeEarlyTime</a></li>
        
          <li><a href="../TestRakeFileCreationTask.html">TestRakeFileCreationTask</a></li>
        
          <li><a href="../TestRakeFileListPathMap.html">TestRakeFileListPathMap</a></li>
        
          <li><a href="../TestRakeFileTask.html">TestRakeFileTask</a></li>
        
          <li><a href="../TestRakeFtpFile.html">TestRakeFtpFile</a></li>
        
          <li><a href="../TestRakeFunctional.html">TestRakeFunctional</a></li>
        
          <li><a href="../TestRakeInvocationChain.html">TestRakeInvocationChain</a></li>
        
          <li><a href="../TestRakeMakefileLoader.html">TestRakeMakefileLoader</a></li>
        
          <li><a href="../TestRakeMultiTask.html">TestRakeMultiTask</a></li>
        
          <li><a href="../TestRakePackageTask.html">TestRakePackageTask</a></li>
        
          <li><a href="../TestRakePathMap.html">TestRakePathMap</a></li>
        
          <li><a href="../TestRakePathMapExplode.html">TestRakePathMapExplode</a></li>
        
          <li><a href="../TestRakePathMapPartial.html">TestRakePathMapPartial</a></li>
        
          <li><a href="../TestRakePseudoStatus.html">TestRakePseudoStatus</a></li>
        
          <li><a href="../TestRakeRDocTask.html">TestRakeRDocTask</a></li>
        
          <li><a href="../TestRakeRakeTestLoader.html">TestRakeRakeTestLoader</a></li>
        
          <li><a href="../TestRakeRequire.html">TestRakeRequire</a></li>
        
          <li><a href="../TestRakeRules.html">TestRakeRules</a></li>
        
          <li><a href="../TestRakeTask.html">TestRakeTask</a></li>
        
          <li><a href="../TestRakeTaskArgumentParsing.html">TestRakeTaskArgumentParsing</a></li>
        
          <li><a href="../TestRakeTaskArguments.html">TestRakeTaskArguments</a></li>
        
          <li><a href="../TestRakeTaskLib.html">TestRakeTaskLib</a></li>
        
          <li><a href="../TestRakeTaskManager.html">TestRakeTaskManager</a></li>
        
          <li><a href="../TestRakeTaskManagerArgumentResolution.html">TestRakeTaskManagerArgumentResolution</a></li>
        
          <li><a href="../TestRakeTaskWithArguments.html">TestRakeTaskWithArguments</a></li>
        
          <li><a href="../TestRakeTestTask.html">TestRakeTestTask</a></li>
        
          <li><a href="../TestRakeTopLevelFunctions.html">TestRakeTopLevelFunctions</a></li>
        
          <li><a href="../TestResult.html">TestResult</a></li>
        
          <li><a href="../TestReturnCodes.html">TestReturnCodes</a></li>
        
          <li><a href="../TestSourceFile.html">TestSourceFile</a></li>
        
          <li><a href="../TestSourceFileLine.html">TestSourceFileLine</a></li>
        
          <li><a href="../TestSys.html">TestSys</a></li>
        
          <li><a href="../TestThreading.html">TestThreading</a></li>
        
          <li><a href="../TestThreadingLargePool.html">TestThreadingLargePool</a></li>
        
          <li><a href="../TestTimeout.html">TestTimeout</a></li>
        
          <li><a href="../Time.html">Time</a></li>
        
          <li><a href="../TimestampTest.html">TimestampTest</a></li>
        
          <li><a href="../URITest.html">URITest</a></li>
        
          <li><a href="../WithinHelpers.html">WithinHelpers</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Mongo::Collection</h1>

    <div id="description" class="description">
      
<p>A named collection of documents in a database.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="db-attribute-method" class="method-detail">
          <a name="db"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">db</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          
          
          </div>
        </div>
        
        <div id="hint-attribute-method" class="method-detail">
          <a name="hint"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">hint</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          
          
          </div>
        </div>
        
        <div id="name-attribute-method" class="method-detail">
          <a name="name"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">name</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          
          
          </div>
        </div>
        
        <div id="pk_factory-attribute-method" class="method-detail">
          <a name="pk_factory"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">pk_factory</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          
          
          </div>
        </div>
        
        <div id="safe-attribute-method" class="method-detail">
          <a name="safe"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">safe</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(name, db, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Initialize a collection object.</p>

<p>@param [<a href="../String.html">String</a>, Symbol] name the name of the
collection. @param [DB] db a MongoDB database instance.</p>

<p>@option opts [:create_pk] :pk (<a
href="../BSON/ObjectId.html">BSON::ObjectId</a>) A primary key factory to
use</p>

<pre>other than the default BSON::ObjectId.</pre>

<p>@option opts [Boolean, Hash] :safe (false) Set the default safe-mode
options</p>

<pre>for insert, update, and remove method called on this Collection instance. If no
value is provided, the default value set on this instance's DB will be used. This
default can be overridden for any invocation of insert, update, or remove.</pre>

<p>@option options [:primary, :secondary] :read The default read preference
for queries</p>

<pre>initiates from this connection object. If +:secondary+ is chosen, reads will be sent
to one of the closest available secondary nodes. If a secondary node cannot be located, the
read will be sent to the primary. If this option is left unspecified, the value of the read
preference for this collection's associated Mongo::DB object will be used.</pre>

<p>@raise [InvalidNSName]</p>

<pre>if collection name is empty, contains '$', or starts or ends with '.'</pre>

<p>@raise [TypeError]</p>

<pre>if collection name is not a string or symbol</pre>

<p>@return [Collection]</p>

<p>@core collections constructor_details</p>
            

            
            <div class="method-source-code" id="new-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 52</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">db</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">db</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">DB</span>)
    <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;Warning: the order of parameters to initialize a collection have changed. &quot;</span> <span class="ruby-operator">+</span>
         <span class="ruby-string">&quot;Please specify the collection name first, followed by the db. This will be made permanent&quot;</span> <span class="ruby-operator">+</span>
         <span class="ruby-string">&quot;in v2.0.&quot;</span>
    <span class="ruby-identifier">db</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>, <span class="ruby-identifier">db</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span>, <span class="ruby-constant">String</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-string">&quot;new_name must be a string or symbol&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">include?</span> <span class="ruby-string">&quot;..&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidNSName</span>, <span class="ruby-string">&quot;collection names cannot be empty&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">include?</span> <span class="ruby-string">&quot;$&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidNSName</span>, <span class="ruby-string">&quot;collection names must not contain '$'&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">%r((^\$cmd)|(oplog\.\$main))/</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">%r^\./</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">%r\.$/</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidNSName</span>, <span class="ruby-string">&quot;collection names must not start or end with '.'&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:create_pk</span>) <span class="ruby-operator">||</span> <span class="ruby-operator">!</span><span class="ruby-identifier">opts</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;The method for specifying a primary key factory on a Collection has changed.\n&quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-string">&quot;Please specify it as an option (e.g., :pk =&gt; PkFactory).&quot;</span>
    <span class="ruby-identifier">pk_factory</span> = <span class="ruby-identifier">opts</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">pk_factory</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@db</span>, <span class="ruby-ivar">@name</span>  = <span class="ruby-identifier">db</span>, <span class="ruby-identifier">name</span>
  <span class="ruby-ivar">@connection</span> = <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">connection</span>
  <span class="ruby-ivar">@logger</span>     = <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">logger</span>
  <span class="ruby-ivar">@cache_time</span> = <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">cache_time</span>
  <span class="ruby-ivar">@cache</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">0</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">pk_factory</span>
    <span class="ruby-ivar">@safe</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:safe</span>, <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">safe</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:read</span>]
      <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Support</span>.<span class="ruby-identifier">validate_read_preference</span>(<span class="ruby-identifier">value</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">value</span> = <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">read_preference</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@read_preference</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">dup</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@pk_factory</span> = <span class="ruby-identifier">pk_factory</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:pk</span>] <span class="ruby-operator">||</span> <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">ObjectId</span>
  <span class="ruby-ivar">@hint</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->
      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="3C-3C-method" class="method-detail method-alias">
          <a name="method-i-3C-3C"></a>

          
          <div class="method-heading">
            <span class="method-name">&lt;&lt;</span><span
              class="method-args">(doc_or_docs, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Collection.html#method-i-insert">insert</a>
          </div>
          
        </div><!-- 3C-3C-method -->
      
        <div id="5B-5D-method" class="method-detail ">
          <a name="method-i-5B-5D"></a>

          
          <div class="method-heading">
            <span class="method-name">[]</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a sub-collection of this collection by name. If 'users' is a
collection, then 'users.comments' is a sub-collection of users.</p>

<p>@param [<a href="../String.html">String</a>, Symbol] name</p>

<pre>the collection to return</pre>

<p>@raise [Mongo::InvalidNSName]</p>

<pre>if passed an invalid collection name</pre>

<p>@return [Collection]</p>

<pre>the specified sub-collection</pre>
            

            
            <div class="method-source-code" id="5B-5D-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-node">&quot;#{self.name}.#{name}&quot;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">Collection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">db</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">db</span>.<span class="ruby-identifier">strict?</span> <span class="ruby-operator">||</span>
    <span class="ruby-identifier">db</span>.<span class="ruby-identifier">collection_names</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Collection #{name} doesn't exist. Currently in strict mode.&quot;</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- 5B-5D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-method -->
      
        <div id="capped-3F-method" class="method-detail ">
          <a name="method-i-capped-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">capped?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Indicate whether this is a capped collection.</p>

<p>@raise [Mongo::OperationFailure]</p>

<pre>if the collection doesn't exist.</pre>

<p>@return [Boolean]</p>
            

            
            <div class="method-source-code" id="capped-3F-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">capped?</span>
  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">command</span>({<span class="ruby-value">:collstats</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@name</span>})[<span class="ruby-string">'capped'</span>] <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- capped-3F-source -->
            
          </div>

          

          
        </div><!-- capped-3F-method -->
      
        <div id="count-method" class="method-detail ">
          <a name="method-i-count"></a>

          
          <div class="method-heading">
            <span class="method-name">count</span><span
              class="method-args">(opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get the number of documents in this collection.</p>

<p>@option opts [Hash] :query ({}) A query selector for filtering the
documents counted. @option opts [Integer] :skip (nil) The number of
documents to skip. @option opts [Integer] :limit (nil) The number of
documents to limit.</p>

<p>@return [Integer]</p>
            

            
            <div class="method-source-code" id="count-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 864</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">count</span>(<span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">find</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-value">:query</span>],
       <span class="ruby-value">:skip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:skip</span>],
       <span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:limit</span>]).<span class="ruby-identifier">count</span>(<span class="ruby-keyword">true</span>)
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- count-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Collection.html#method-i-size">size</a>
          </div>
          

          
        </div><!-- count-method -->
      
        <div id="create_index-method" class="method-detail ">
          <a name="method-i-create_index"></a>

          
          <div class="method-heading">
            <span class="method-name">create_index</span><span
              class="method-args">(spec, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Create a new index.</p>

<p>@param [<a href="../String.html">String</a>, Array] spec</p>

<pre>should be either a single field name or an array of
[field name, direction] pairs. Directions should be specified
as Mongo::ASCENDING, Mongo::DESCENDING, or Mongo::GEO2D.

Note that geospatial indexing only works with versions of MongoDB &gt;= 1.3.3+. Keep in mind, too,
that in order to geo-index a given field, that field must reference either an array or a sub-object
where the first two values represent x- and y-coordinates. Examples can be seen below.

Also note that it is permissible to create compound indexes that include a geospatial index as
long as the geospatial index comes first.

If your code calls create_index frequently, you can use Collection#ensure_index to cache these calls
and thereby prevent excessive round trips to the database.</pre>

<p>@option opts [Boolean] :unique (false) if true, this index will enforce a
uniqueness constraint. @option opts [Boolean] :background (false) indicate
that the index should be built in the background. This</p>

<pre>feature is only available in MongoDB &gt;= 1.3.2.</pre>

<p>@option opts [Boolean] :drop_dups (nil) If creating a unique index on a
collection with pre-existing records,</p>

<pre>this option will keep the first document the database indexes and drop all subsequent with duplicate values.</pre>

<p>@option opts [Integer] :min (nil) specify the minimum longitude and
latitude for a geo index. @option opts [Integer] :max (nil) specify the
maximum longitude and latitude for a geo index.</p>

<p>@example Creating a compound index:</p>

<pre>@posts.create_index([['subject', Mongo::ASCENDING], ['created_at', Mongo::DESCENDING]])</pre>

<p>@example Creating a geospatial index:</p>

<pre class="ruby"><span class="ruby-ivar">@restaurants</span>.<span class="ruby-identifier">create_index</span>([[<span class="ruby-string">'location'</span>, <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">GEO2D</span>]])

<span class="ruby-comment"># Note that this will work only if 'location' represents x,y coordinates:</span>
{<span class="ruby-string">'location'</span><span class="ruby-operator">:</span> [<span class="ruby-value">0</span>, <span class="ruby-value">50</span>]}
{<span class="ruby-string">'location'</span><span class="ruby-operator">:</span> {<span class="ruby-string">'x'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-string">'y'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">50</span>}}
{<span class="ruby-string">'location'</span><span class="ruby-operator">:</span> {<span class="ruby-string">'latitude'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>, <span class="ruby-string">'longitude'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">50</span>}}
</pre>

<p>@example A geospatial index with alternate longitude and latitude:</p>

<pre class="ruby"><span class="ruby-ivar">@restaurants</span>.<span class="ruby-identifier">create_index</span>([[<span class="ruby-string">'location'</span>, <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">GEO2D</span>]], :<span class="ruby-identifier">min</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">500</span>, :<span class="ruby-identifier">max</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">500</span>)
</pre>

<p>@return [String] the name of the index created.</p>

<p>@core indexes create_index-instance_method</p>
            

            
            <div class="method-source-code" id="create_index-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 489</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_index</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">opts</span>[<span class="ruby-value">:dropDups</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:drop_dups</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:drop_dups</span>]
  <span class="ruby-identifier">field_spec</span> = <span class="ruby-identifier">parse_index_spec</span>(<span class="ruby-identifier">spec</span>)
  <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:name</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">generate_index_name</span>(<span class="ruby-identifier">field_spec</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>

  <span class="ruby-identifier">generate_indexes</span>(<span class="ruby-identifier">field_spec</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">opts</span>)
  <span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- create_index-source -->
            
          </div>

          

          
        </div><!-- create_index-method -->
      
        <div id="distinct-method" class="method-detail ">
          <a name="method-i-distinct"></a>

          
          <div class="method-heading">
            <span class="method-name">distinct</span><span
              class="method-args">(key, query=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a list of distinct values for <code>key</code> across all documents
in the collection. The key may use dot notation to reach into an embedded
object.</p>

<p>@param [<a href="../String.html">String</a>, <a
href="../Symbol.html">Symbol</a>, OrderedHash] key or hash to group by.
@param [Hash] query a selector for limiting the result set over which to
group.</p>

<p>@example Saving zip codes and ages and returning distinct results.</p>

<pre class="ruby"><span class="ruby-ivar">@collection</span>.<span class="ruby-identifier">save</span>({:<span class="ruby-identifier">zip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10010</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">27</span>}})
<span class="ruby-ivar">@collection</span>.<span class="ruby-identifier">save</span>({:<span class="ruby-identifier">zip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">94108</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">24</span>}})
<span class="ruby-ivar">@collection</span>.<span class="ruby-identifier">save</span>({:<span class="ruby-identifier">zip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10010</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">27</span>}})
<span class="ruby-ivar">@collection</span>.<span class="ruby-identifier">save</span>({:<span class="ruby-identifier">zip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">99701</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">24</span>}})
<span class="ruby-ivar">@collection</span>.<span class="ruby-identifier">save</span>({:<span class="ruby-identifier">zip</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">94108</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> {:<span class="ruby-identifier">age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">27</span>}})

<span class="ruby-ivar">@collection</span>.<span class="ruby-identifier">distinct</span>(:<span class="ruby-identifier">zip</span>)
  [<span class="ruby-value">10010</span>, <span class="ruby-value">94108</span>, <span class="ruby-value">99701</span>]
<span class="ruby-ivar">@collection</span>.<span class="ruby-identifier">distinct</span>(<span class="ruby-string">&quot;name.age&quot;</span>)
  [<span class="ruby-value">27</span>, <span class="ruby-value">24</span>]

<span class="ruby-comment"># You may also pass a document selector as the second parameter</span>
<span class="ruby-comment"># to limit the documents over which distinct is run:</span>
<span class="ruby-ivar">@collection</span>.<span class="ruby-identifier">distinct</span>(<span class="ruby-string">&quot;name.age&quot;</span>, {<span class="ruby-string">&quot;name.age&quot;</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-string">&quot;$gt&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">24</span>}})
  [<span class="ruby-value">27</span>]
</pre>

<p>@return [Array] an array of distinct values.</p>
            

            
            <div class="method-source-code" id="distinct-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 790</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">distinct</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">query</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">MongoArgumentError</span> <span class="ruby-keyword">unless</span> [<span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">class</span>)
  <span class="ruby-identifier">command</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedHash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">command</span>[<span class="ruby-value">:distinct</span>] = <span class="ruby-ivar">@name</span>
  <span class="ruby-identifier">command</span>[<span class="ruby-value">:key</span>]      = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">command</span>[<span class="ruby-value">:query</span>]    = <span class="ruby-identifier">query</span>

  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">command</span>(<span class="ruby-identifier">command</span>)[<span class="ruby-string">&quot;values&quot;</span>]
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- distinct-source -->
            
          </div>

          

          
        </div><!-- distinct-method -->
      
        <div id="drop-method" class="method-detail ">
          <a name="method-i-drop"></a>

          
          <div class="method-heading">
            <span class="method-name">drop</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Drop the entire collection. USE WITH CAUTION.</p>
            

            
            <div class="method-source-code" id="drop-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 557</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop</span>
  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">drop_collection</span>(<span class="ruby-ivar">@name</span>)
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- drop-source -->
            
          </div>

          

          
        </div><!-- drop-method -->
      
        <div id="drop_index-method" class="method-detail ">
          <a name="method-i-drop_index"></a>

          
          <div class="method-heading">
            <span class="method-name">drop_index</span><span
              class="method-args">(name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Drop a specified index.</p>

<p>@param [String] name</p>

<p>@core indexes</p>
            

            
            <div class="method-source-code" id="drop_index-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 538</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop_index</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">drop_index</span>(<span class="ruby-identifier">index_name</span>(<span class="ruby-identifier">name</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>] = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">drop_index</span>(<span class="ruby-ivar">@name</span>, <span class="ruby-identifier">name</span>)
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- drop_index-source -->
            
          </div>

          

          
        </div><!-- drop_index-method -->
      
        <div id="drop_indexes-method" class="method-detail ">
          <a name="method-i-drop_indexes"></a>

          
          <div class="method-heading">
            <span class="method-name">drop_indexes</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Drop all indexes.</p>

<p>@core indexes</p>
            

            
            <div class="method-source-code" id="drop_indexes-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 549</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">drop_indexes</span>
  <span class="ruby-ivar">@cache</span> = {}

  <span class="ruby-comment"># Note: calling drop_indexes with no args will drop them all.</span>
  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">drop_index</span>(<span class="ruby-ivar">@name</span>, <span class="ruby-string">'*'</span>)
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- drop_indexes-source -->
            
          </div>

          

          
        </div><!-- drop_indexes-method -->
      
        <div id="ensure_index-method" class="method-detail ">
          <a name="method-i-ensure_index"></a>

          
          <div class="method-heading">
            <span class="method-name">ensure_index</span><span
              class="method-args">(spec, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Calls <a href="Collection.html#method-i-create_index">#create_index</a> and
sets a flag to not do so again for another X minutes. this time can be
specified as an option when initializing a <a href="DB.html">Mongo::DB</a>
object as <a href="http://:cache_time">options</a> Any changes to an index
will be propogated through regardless of cache time (e.g., a change of
index direction)</p>

<p>The parameters and options for this methods are the same as those for <a
href="Collection.html#method-i-create_index">#create_index</a>.</p>

<p>@example Call sequence:</p>

<pre>Time t: @posts.ensure_index([['subject', Mongo::ASCENDING])  -- calls create_index and
  sets the 5 minute cache
Time t+2min : @posts.ensure_index([['subject', Mongo::ASCENDING])  -- doesn't do anything
Time t+3min : @posts.ensure_index([['something_else', Mongo::ASCENDING])  -- calls create_index
  and sets 5 minute cache
Time t+10min : @posts.ensure_index([['subject', Mongo::ASCENDING])  -- calls create_index and
  resets the 5 minute counter</pre>

<p>@return [String] the name of the index.</p>
            

            
            <div class="method-source-code" id="ensure_index-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 516</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ensure_index</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">now</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">to_i</span>
  <span class="ruby-identifier">opts</span>[<span class="ruby-value">:dropDups</span>] = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:drop_dups</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:drop_dups</span>]
  <span class="ruby-identifier">field_spec</span> = <span class="ruby-identifier">parse_index_spec</span>(<span class="ruby-identifier">spec</span>)

  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">opts</span>[<span class="ruby-value">:name</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">generate_index_name</span>(<span class="ruby-identifier">field_spec</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>

  <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">||</span> <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">now</span>
    <span class="ruby-identifier">generate_indexes</span>(<span class="ruby-identifier">field_spec</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">opts</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Reset the cache here in case there are any errors inserting. Best to be safe.</span>
  <span class="ruby-ivar">@cache</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">now</span> <span class="ruby-operator">+</span> <span class="ruby-ivar">@cache_time</span>
  <span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- ensure_index-source -->
            
          </div>

          

          
        </div><!-- ensure_index-method -->
      
        <div id="find-method" class="method-detail ">
          <a name="method-i-find"></a>

          
          <div class="method-heading">
            <span class="method-name">find</span><span
              class="method-args">(selector={}, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Query the database.</p>

<p>The <code>selector</code> argument is a prototype document that all results
must match. For example:</p>

<pre class="ruby"><span class="ruby-identifier">collection</span>.<span class="ruby-identifier">find</span>({<span class="ruby-string">&quot;hello&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;world&quot;</span>})
</pre>

<p>only matches documents that have a key "hello" with value "world". Matches
can have other keys *in addition* to "hello".</p>

<p>If given an optional block <code>find</code> will yield a <a
href="Cursor.html">Cursor</a> to that block, close the cursor, and then
return nil. This guarantees that partially evaluated cursors will be
closed. If given no block <code>find</code> returns a cursor.</p>

<p>@param [Hash] selector</p>

<pre>a document specifying elements which must be present for a
document to be included in the result set. Note that in rare cases,
(e.g., with $near queries), the order of keys will matter. To preserve
key order on a selector, use an instance of BSON::OrderedHash (only applies
to Ruby 1.8).</pre>

<p>@option opts [<a href="../Array.html">Array</a>, Hash] :fields field names
that should be returned in the result</p>

<pre>set (&quot;_id&quot; will be included unless explicity excluded). By limiting results to a certain subset of fields,
you can cut down on network traffic and decoding time. If using a Hash, keys should be field
names and values should be either 1 or 0, depending on whether you want to include or exclude
the given field.</pre>

<p>@option opts [:primary, :secondary] :read The default read preference for
queries</p>

<pre>initiates from this connection object. If +:secondary+ is chosen, reads will be sent
to one of the closest available secondary nodes. If a secondary node cannot be located, the
read will be sent to the primary. If this option is left unspecified, the value of the read
preference for this Collection object will be used.</pre>

<p>@option opts [Integer] :skip number of documents to skip from the beginning
of the result set @option opts [Integer] :limit maximum number of documents
to return @option opts [Array]   :sort an array of [key, direction] pairs
to sort by. Direction should</p>

<pre>be specified as Mongo::ASCENDING (or :ascending / :asc) or Mongo::DESCENDING (or :descending / :desc)</pre>

<p>@option opts [<a href="../String.html">String</a>, <a
href="../Array.html">Array</a>, OrderedHash] :hint hint for query
optimizer, usually not necessary if</p>

<pre>using MongoDB &gt; 1.1</pre>

<p>@option opts [Boolean] :snapshot (false) if true, snapshot mode will be
used for this query.</p>

<pre>Snapshot mode assures no duplicates are returned, or objects missed, which were preset at both the start and
end of the query's execution.
For details see http://www.mongodb.org/display/DOCS/How+to+do+Snapshotting+in+the+Mongo+Database</pre>

<p>@option opts [Boolean] :batch_size (100) the number of documents to
returned by the database per</p>

<pre>GETMORE operation. A value of 0 will let the database server decide how many results to return.
This option can be ignored for most use cases.</pre>

<p>@option opts [Boolean] :timeout (true) when <code>true</code>, the returned
cursor will be subject to</p>

<pre>the normal cursor timeout behavior of the mongod process. When +false+, the returned cursor will
never timeout. Note that disabling timeout will only work when #find is invoked with a block.
This is to prevent any inadvertant failure to close the cursor, as the cursor is explicitly
closed when block code finishes.</pre>

<p>@option opts [Integer] :max_scan (nil) Limit the number of items to scan on
both collection scans and indexed queries.. @option opts [Boolean]
:show_disk_loc (false) Return the disk location of each query result (for
debugging). @option opts [Boolean] :return_key (false) Return the index key
used to obtain the result (for debugging). @option opts [Block]
:transformer (nil) a block for tranforming returned documents.</p>

<pre class="ruby"><span class="ruby-constant">This</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">normally</span> <span class="ruby-identifier">used</span> <span class="ruby-identifier">by</span> <span class="ruby-identifier">object</span> <span class="ruby-identifier">mappers</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">convert</span> <span class="ruby-identifier">each</span> <span class="ruby-identifier">returned</span> <span class="ruby-identifier">document</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">an</span> <span class="ruby-identifier">instance</span> <span class="ruby-identifier">of</span> <span class="ruby-identifier">a</span> <span class="ruby-keyword">class</span>.
</pre>

<p>@raise [ArgumentError]</p>

<pre>if timeout is set to false and find is not invoked in a block</pre>

<p>@raise [RuntimeError]</p>

<pre>if given unknown options</pre>

<p>@core find find-instance_method</p>
            

            
            <div class="method-source-code" id="find-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find</span>(<span class="ruby-identifier">selector</span>={}, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">opts</span>   = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-identifier">fields</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:fields</span>)
  <span class="ruby-identifier">fields</span> = [<span class="ruby-string">&quot;_id&quot;</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">fields</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">fields</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">skip</span>   = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:skip</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">skip</span> <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">limit</span>  = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:limit</span>) <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
  <span class="ruby-identifier">sort</span>   = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:sort</span>)
  <span class="ruby-identifier">hint</span>   = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:hint</span>)
  <span class="ruby-identifier">snapshot</span>   = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:snapshot</span>)
  <span class="ruby-identifier">batch_size</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:batch_size</span>)
  <span class="ruby-identifier">timeout</span>    = (<span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:timeout</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">?</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">max_scan</span>   = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:max_scan</span>)
  <span class="ruby-identifier">return_key</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:return_key</span>)
  <span class="ruby-identifier">transformer</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:transformer</span>)
  <span class="ruby-identifier">show_disk_loc</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:show_disk_loc</span>)
  <span class="ruby-identifier">read</span>          = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:read</span>) <span class="ruby-operator">||</span> <span class="ruby-ivar">@read_preference</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">timeout</span> <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;Collection#find must be invoked with a block when timeout is disabled.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">hint</span>
    <span class="ruby-identifier">hint</span> = <span class="ruby-identifier">normalize_hint_fields</span>(<span class="ruby-identifier">hint</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">hint</span> = <span class="ruby-ivar">@hint</span>        <span class="ruby-comment"># assumed to be normalized already</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>, <span class="ruby-node">&quot;Unknown options [#{opts.inspect}]&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">cursor</span> = <span class="ruby-constant">Cursor</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>, {
    <span class="ruby-value">:selector</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">selector</span>,
    <span class="ruby-value">:fields</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">fields</span>,
    <span class="ruby-value">:skip</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">skip</span>,
    <span class="ruby-value">:limit</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">limit</span>,
    <span class="ruby-value">:order</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sort</span>,
    <span class="ruby-value">:hint</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">hint</span>,
    <span class="ruby-value">:snapshot</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">snapshot</span>,
    <span class="ruby-value">:timeout</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">timeout</span>,
    <span class="ruby-value">:batch_size</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">batch_size</span>,
    <span class="ruby-value">:transformer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">transformer</span>,
    <span class="ruby-value">:max_scan</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max_scan</span>,
    <span class="ruby-value">:show_disk_loc</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">show_disk_loc</span>,
    <span class="ruby-value">:return_key</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">return_key</span>,
    <span class="ruby-value">:read</span>          =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">read</span>
  })

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">cursor</span>
    <span class="ruby-identifier">cursor</span>.<span class="ruby-identifier">close</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">cursor</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- find-source -->
            
          </div>

          

          
        </div><!-- find-method -->
      
        <div id="find_and_modify-method" class="method-detail ">
          <a name="method-i-find_and_modify"></a>

          
          <div class="method-heading">
            <span class="method-name">find_and_modify</span><span
              class="method-args">(opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Atomically update and return a document using MongoDB's findAndModify
command. (MongoDB &gt; 1.3.0)</p>

<p>@option opts [Hash] :query ({}) a query selector document for matching the
desired document. @option opts [Hash] :update (nil) the update operation to
perform on the matched document. @option opts [<a
href="../Array.html">Array</a>, <a href="../String.html">String</a>,
OrderedHash] :sort ({}) specify a sort option for the query using any</p>

<pre>of the sort options available for Cursor#sort. Sort order is important if the query will be matching
multiple documents since only the first matching document will be updated and returned.</pre>

<p>@option opts [Boolean] :remove (false) If true, removes the the returned
document from the collection. @option opts [Boolean] :new (false) If true,
returns the updated document; otherwise, returns the document</p>

<pre>prior to update.</pre>

<p>@return [Hash] the matched document.</p>

<p>@core findandmodify find_and_modify-instance_method</p>
            

            
            <div class="method-source-code" id="find_and_modify-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 575</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_and_modify</span>(<span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">cmd</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedHash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">cmd</span>[<span class="ruby-value">:findandmodify</span>] = <span class="ruby-ivar">@name</span>
  <span class="ruby-identifier">cmd</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">opts</span>)
  <span class="ruby-identifier">cmd</span>[<span class="ruby-value">:sort</span>] = <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Support</span>.<span class="ruby-identifier">format_order_clause</span>(<span class="ruby-identifier">opts</span>[<span class="ruby-value">:sort</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:sort</span>]

  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">command</span>(<span class="ruby-identifier">cmd</span>)[<span class="ruby-string">'value'</span>]
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- find_and_modify-source -->
            
          </div>

          

          
        </div><!-- find_and_modify-method -->
      
        <div id="find_one-method" class="method-detail ">
          <a name="method-i-find_one"></a>

          
          <div class="method-heading">
            <span class="method-name">find_one</span><span
              class="method-args">(spec_or_object_id=nil, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a single object from the database.</p>

<p>@return [OrderedHash, Nil]</p>

<pre>a single document or nil if no result is found.</pre>

<p>@param [<a href="../Hash.html">Hash</a>, ObjectId, Nil] spec_or_object_id a
hash specifying elements</p>

<pre>which must be present for a document to be included in the result set or an
instance of ObjectId to be used as the value for an _id query.
If nil, an empty selector, {}, will be used.</pre>

<p>@option opts [Hash]</p>

<pre>any valid options that can be send to Collection#find</pre>

<p>@raise [TypeError]</p>

<pre>if the argument is of an improper type.</pre>
            

            
            <div class="method-source-code" id="find_one-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_one</span>(<span class="ruby-identifier">spec_or_object_id</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">spec</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">spec_or_object_id</span>
         <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
           {}
         <span class="ruby-keyword">when</span> <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">ObjectId</span>
           {<span class="ruby-value">:_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">spec_or_object_id</span>}
         <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
           <span class="ruby-identifier">spec_or_object_id</span>
         <span class="ruby-keyword">else</span>
           <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-string">&quot;spec_or_object_id must be an instance of ObjectId or Hash, or nil&quot;</span>
         <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">find</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:limit</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-1</span>)).<span class="ruby-identifier">next_document</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- find_one-source -->
            
          </div>

          

          
        </div><!-- find_one-method -->
      
        <div id="group-method" class="method-detail ">
          <a name="method-i-group"></a>

          
          <div class="method-heading">
            <span class="method-name">group</span><span
              class="method-args">(opts, condition={}, initial={}, reduce=nil, finalize=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Perform a group aggregation.</p>

<p>@param [Hash] opts the options for this group operation. The minimum
required are :initial</p>

<pre>and :reduce.</pre>

<p>@option opts [<a href="../Array.html">Array</a>, <a
href="../String.html">String</a>, Symbol] :key (nil) Either the name of a
field or a list of fields to group by (optional). @option opts [<a
href="../String.html">String</a>, BSON::Code] :keyf (nil) A JavaScript
function to be used to generate the grouping keys (optional). @option opts
[<a href="../String.html">String</a>, BSON::Code] :cond ({}) A document
specifying a query for filtering the documents over</p>

<pre>which the aggregation is run (optional).</pre>

<p>@option opts [Hash] :initial the initial value of the aggregation counter
object (required). @option opts [<a href="../String.html">String</a>,
BSON::Code] :reduce (nil) a JavaScript aggregation function (required).
@option opts [<a href="../String.html">String</a>, BSON::Code] :finalize
(nil) a JavaScript function that receives and modifies</p>

<pre>each of the resultant grouped objects. Available only when group is run with command
set to true.</pre>

<p>@return [Array] the command response consisting of grouped items.</p>
            

            
            <div class="method-source-code" id="group-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 665</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">group</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">condition</span>={}, <span class="ruby-identifier">initial</span>={}, <span class="ruby-identifier">reduce</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">finalize</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">new_group</span>(<span class="ruby-identifier">opts</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;Collection#group no longer take a list of parameters. This usage is deprecated and will be remove in v2.0.&quot;</span> <span class="ruby-operator">+</span>
         <span class="ruby-node">&quot;Check out the new API at http://api.mongodb.org/ruby/current/Mongo/Collection.html#group-instance_method&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">reduce</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">reduce</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">reduce</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>)

  <span class="ruby-identifier">group_command</span> = {
    <span class="ruby-string">&quot;group&quot;</span> =<span class="ruby-operator">&gt;</span> {
      <span class="ruby-string">&quot;ns&quot;</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@name</span>,
      <span class="ruby-string">&quot;$reduce&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">reduce</span>,
      <span class="ruby-string">&quot;cond&quot;</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">condition</span>,
      <span class="ruby-string">&quot;initial&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">initial</span>
    }
  }

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Symbol</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">MongoArgumentError</span>, <span class="ruby-string">&quot;Group takes either an array of fields to group by or a JavaScript function&quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-string">&quot;in the form of a String or BSON::Code.&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Array</span>
      <span class="ruby-identifier">key_type</span> = <span class="ruby-string">&quot;key&quot;</span>
      <span class="ruby-identifier">key_value</span> = {}
      <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key_value</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-value">1</span> }
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">key_type</span>  = <span class="ruby-string">&quot;$keyf&quot;</span>
      <span class="ruby-identifier">key_value</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">opts</span> <span class="ruby-operator">:</span> <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">opts</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">group_command</span>[<span class="ruby-string">&quot;group&quot;</span>][<span class="ruby-identifier">key_type</span>] = <span class="ruby-identifier">key_value</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">finalize</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">finalize</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">finalize</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">finalize</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>)
    <span class="ruby-identifier">group_command</span>[<span class="ruby-string">'group'</span>][<span class="ruby-string">'finalize'</span>] = <span class="ruby-identifier">finalize</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">result</span> = <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">command</span>(<span class="ruby-identifier">group_command</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Support</span>.<span class="ruby-identifier">ok?</span>(<span class="ruby-identifier">result</span>)
    <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;retval&quot;</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">OperationFailure</span>, <span class="ruby-node">&quot;group command failed: #{result['errmsg']}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- group-source -->
            
          </div>

          

          
        </div><!-- group-method -->
      
        <div id="hint-3D-method" class="method-detail ">
          <a name="method-i-hint-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">hint=</span><span
              class="method-args">(hint=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Set a hint field for query optimizer. Hint may be a single field name,
array of field names, or a hash (preferably an [OrderedHash]). If using
MongoDB &gt; 1.1, you probably don't ever need to set a hint.</p>

<p>@param [<a href="../String.html">String</a>, <a
href="../Array.html">Array</a>, OrderedHash] hint a single field, an array
of</p>

<pre>fields, or a hash specifying fields</pre>
            

            
            <div class="method-source-code" id="hint-3D-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">hint=</span>(<span class="ruby-identifier">hint</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-ivar">@hint</span> = <span class="ruby-identifier">normalize_hint_fields</span>(<span class="ruby-identifier">hint</span>)
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- hint-3D-source -->
            
          </div>

          

          
        </div><!-- hint-3D-method -->
      
        <div id="index_information-method" class="method-detail ">
          <a name="method-i-index_information"></a>

          
          <div class="method-heading">
            <span class="method-name">index_information</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Get information on the indexes for this collection.</p>

<p>@return [Hash] a hash where the keys are index names.</p>

<p>@core indexes</p>
            

            
            <div class="method-source-code" id="index_information-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 838</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">index_information</span>
  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">index_information</span>(<span class="ruby-ivar">@name</span>)
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- index_information-source -->
            
          </div>

          

          
        </div><!-- index_information-method -->
      
        <div id="insert-method" class="method-detail ">
          <a name="method-i-insert"></a>

          
          <div class="method-heading">
            <span class="method-name">insert</span><span
              class="method-args">(doc_or_docs, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Insert one or more documents into the collection.</p>

<p>@param [<a href="../Hash.html">Hash</a>, Array] doc_or_docs</p>

<pre>a document (as a hash) or array of documents to be inserted.</pre>

<p>@return [ObjectId, Array]</p>

<pre>The _id of the inserted document or a list of _ids of all inserted documents.</pre>

<p>@return [[ObjectId, Array], [<a href="../Hash.html">Hash</a>, Array]]</p>

<pre>1st, the _id of the inserted document or a list of _ids of all inserted documents.
2nd, a list of invalid documents.
Return this result format only when :collect_on_error is true.</pre>

<p>@option opts [Boolean, Hash] :safe (<code>false</code>)</p>

<pre>run the operation in safe mode, which run a getlasterror command on the
database to report any assertion. In addition, a hash can be provided to
run an fsync and/or wait for replication of the insert (&gt;= 1.5.1). Safe
options provided here will override any safe options set on this collection,
its database object, or the current connection. See the options on
for DB#get_last_error.</pre>

<p>@option opts [Boolean] :continue_on_error (<code>false</code>) If true,
then</p>

<pre>continue a bulk insert even if one of the documents inserted
triggers a database assertion (as in a duplicate insert, for instance).
If not using safe mode, the list of ids returned will
include the object ids of all documents attempted on insert, even
if some are rejected on error. When safe mode is
enabled, any error will raise an OperationFailure exception.
MongoDB v2.0+.</pre>

<p>@option opts [Boolean] :collect_on_error (<code>false</code>) if true, then</p>

<pre>collects invalid documents as an array. Note that this option changes the result format.</pre>

<p>@core insert insert-instance_method</p>
            

            
            <div class="method-source-code" id="insert-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">insert</span>(<span class="ruby-identifier">doc_or_docs</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">doc_or_docs</span> = [<span class="ruby-identifier">doc_or_docs</span>] <span class="ruby-keyword">unless</span> <span class="ruby-identifier">doc_or_docs</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Array</span>)
  <span class="ruby-identifier">doc_or_docs</span>.<span class="ruby-identifier">collect!</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">doc</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@pk_factory</span>.<span class="ruby-identifier">create_pk</span>(<span class="ruby-identifier">doc</span>) }
  <span class="ruby-identifier">safe</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:safe</span>, <span class="ruby-ivar">@safe</span>)
  <span class="ruby-identifier">result</span> = <span class="ruby-identifier">insert_documents</span>(<span class="ruby-identifier">doc_or_docs</span>, <span class="ruby-ivar">@name</span>, <span class="ruby-keyword">true</span>, <span class="ruby-identifier">safe</span>, <span class="ruby-identifier">opts</span>)
  <span class="ruby-identifier">result</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">result</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- insert-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Collection.html#method-i-3C-3C">&lt;&lt;</a>
          </div>
          

          
        </div><!-- insert-method -->
      
        <div id="map_reduce-method" class="method-detail ">
          <a name="method-i-map_reduce"></a>

          
          <div class="method-heading">
            <span class="method-name">map_reduce</span><span
              class="method-args">(map, reduce, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Perform a map-reduce operation on the current collection.</p>

<p>@param [<a href="../String.html">String</a>, BSON::Code] map a map
function, written in JavaScript. @param [<a
href="../String.html">String</a>, BSON::Code] reduce a reduce function,
written in JavaScript.</p>

<p>@option opts [Hash] :query ({}) a query selector document, like what's
passed to <a href="Collection.html#method-i-find">find</a>, to limit</p>

<pre>the operation to a subset of the collection.</pre>

<p>@option opts [Array] :sort ([]) an array of [key, direction] pairs to sort
by. Direction should</p>

<pre>be specified as Mongo::ASCENDING (or :ascending / :asc) or Mongo::DESCENDING (or :descending / :desc)</pre>

<p>@option opts [Integer] :limit (nil) if passing a query, number of objects
to return from the collection. @option opts [<a
href="../String.html">String</a>, BSON::Code] :finalize (nil) a javascript
function to apply to the result set after the</p>

<pre>map/reduce operation has finished.</pre>

<p>@option opts [String] :out (nil) a valid output type. In versions of
MongoDB prior to v1.7.6,</p>

<pre>this option takes the name of a collection for the output results. In versions 1.7.6 and later,
this option specifies the output type. See the core docs for available output types.</pre>

<p>@option opts [Boolean] :keeptemp (false) if true, the generated collection
will be persisted. The defualt</p>

<pre>is false. Note that this option has no effect is versions of MongoDB &gt; v1.7.6.</pre>

<p>@option opts [Boolean ] :verbose (false) if true, provides statistics on
job execution time. @option opts [Boolean] :raw (false) if true, return the
raw result object from the <a
href="Collection.html#method-i-map_reduce">#map_reduce</a> command, and not</p>

<pre class="ruby"><span class="ruby-identifier">the</span> <span class="ruby-identifier">instantiated</span> <span class="ruby-identifier">collection</span> <span class="ruby-identifier">that</span><span class="ruby-string">'s returned by default. Note if a collection name isn'</span><span class="ruby-identifier">t</span> <span class="ruby-identifier">returned</span> <span class="ruby-keyword">in</span> <span class="ruby-identifier">the</span>
<span class="ruby-identifier">map</span><span class="ruby-operator">-</span><span class="ruby-identifier">reduce</span> <span class="ruby-identifier">output</span> (<span class="ruby-identifier">as</span>, <span class="ruby-keyword">for</span> <span class="ruby-identifier">example</span>, <span class="ruby-keyword">when</span> <span class="ruby-identifier">using</span> :<span class="ruby-identifier">out</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">inline</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span> }), <span class="ruby-keyword">then</span> <span class="ruby-identifier">you</span> <span class="ruby-identifier">must</span> <span class="ruby-identifier">specify</span> <span class="ruby-identifier">this</span> <span class="ruby-identifier">option</span>
<span class="ruby-keyword">or</span> <span class="ruby-identifier">an</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-identifier">will</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">raised</span>.
</pre>

<p>@return [<a href="Collection.html">Collection</a>, Hash] a <a
href="Collection.html">Mongo::Collection</a> object or a <a
href="../Hash.html">Hash</a> with the map-reduce command's results.</p>

<p>@raise ArgumentError if you specify { :out =&gt; { :inline =&gt; true }}
but don't specify :raw =&gt; true.</p>

<p>@see <a
href="http://www.mongodb.org/display/DOCS/MapReduce">www.mongodb.org/display/DOCS/MapReduce</a>
Offical MongoDB map/reduce documentation.</p>

<p>@core mapreduce map_reduce-instance_method</p>
            

            
            <div class="method-source-code" id="map_reduce-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 614</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">map_reduce</span>(<span class="ruby-identifier">map</span>, <span class="ruby-identifier">reduce</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-identifier">map</span>    = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">map</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">map</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>)
  <span class="ruby-identifier">reduce</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">reduce</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">reduce</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">Code</span>)
  <span class="ruby-identifier">raw</span>    = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:raw</span>)

  <span class="ruby-identifier">hash</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedHash</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">'mapreduce'</span>] = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">'map'</span>] = <span class="ruby-identifier">map</span>
  <span class="ruby-identifier">hash</span>[<span class="ruby-string">'reduce'</span>] = <span class="ruby-identifier">reduce</span>
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-identifier">opts</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">hash</span>[<span class="ruby-value">:sort</span>]
    <span class="ruby-identifier">hash</span>[<span class="ruby-value">:sort</span>] = <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Support</span>.<span class="ruby-identifier">format_order_clause</span>(<span class="ruby-identifier">hash</span>[<span class="ruby-value">:sort</span>])
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">result</span> = <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">command</span>(<span class="ruby-identifier">hash</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Support</span>.<span class="ruby-identifier">ok?</span>(<span class="ruby-identifier">result</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">OperationFailure</span>, <span class="ruby-node">&quot;map-reduce failed: #{result['errmsg']}&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">raw</span>
    <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;result&quot;</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>[<span class="ruby-string">'result'</span>].<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedHash</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">result</span>[<span class="ruby-string">'result'</span>].<span class="ruby-identifier">has_key?</span> <span class="ruby-string">'db'</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">result</span>[<span class="ruby-string">'result'</span>].<span class="ruby-identifier">has_key?</span> <span class="ruby-string">'collection'</span>
      <span class="ruby-identifier">otherdb</span> = <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">connection</span>[<span class="ruby-identifier">result</span>[<span class="ruby-string">'result'</span>][<span class="ruby-string">'db'</span>]]
      <span class="ruby-identifier">otherdb</span>[<span class="ruby-identifier">result</span>[<span class="ruby-string">'result'</span>][<span class="ruby-string">'collection'</span>]]
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@db</span>[<span class="ruby-identifier">result</span>[<span class="ruby-string">&quot;result&quot;</span>]]
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&quot;Could not instantiate collection from result. If you specified &quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-string">&quot;{:out =&gt; {:inline =&gt; true}}, then you must also specify :raw =&gt; true to get the results.&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- map_reduce-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Collection.html#method-i-mapreduce">mapreduce</a>
          </div>
          

          
        </div><!-- map_reduce-method -->
      
        <div id="mapreduce-method" class="method-detail method-alias">
          <a name="method-i-mapreduce"></a>

          
          <div class="method-heading">
            <span class="method-name">mapreduce</span><span
              class="method-args">(map, reduce, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Collection.html#method-i-map_reduce">map_reduce</a>
          </div>
          
        </div><!-- mapreduce-method -->
      
        <div id="options-method" class="method-detail ">
          <a name="method-i-options"></a>

          
          <div class="method-heading">
            <span class="method-name">options</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return a hash containing options that apply to this collection. For all
possible keys and values, see <a
href="DB.html#method-i-create_collection">Mongo::DB#create_collection</a>.</p>

<p>@return [Hash] options that apply to this collection.</p>
            

            
            <div class="method-source-code" id="options-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 846</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">options</span>
  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">collections_info</span>(<span class="ruby-ivar">@name</span>).<span class="ruby-identifier">next_document</span>[<span class="ruby-string">'options'</span>]
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- options-source -->
            
          </div>

          

          
        </div><!-- options-method -->
      
        <div id="read_preference-method" class="method-detail ">
          <a name="method-i-read_preference"></a>

          
          <div class="method-heading">
            <span class="method-name">read_preference</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The value of the read preference. This will be either
<code>:primary</code>, <code>:secondary</code>, or an object representing
the tags to be read from.</p>
            

            
            <div class="method-source-code" id="read_preference-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 719</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">read_preference</span>
  <span class="ruby-ivar">@read_preference</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- read_preference-source -->
            
          </div>

          

          
        </div><!-- read_preference-method -->
      
        <div id="remove-method" class="method-detail ">
          <a name="method-i-remove"></a>

          
          <div class="method-heading">
            <span class="method-name">remove</span><span
              class="method-args">(selector={}, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Remove all documents from this collection.</p>

<p>@param [Hash] selector</p>

<pre>If specified, only matching documents will be removed.</pre>

<p>@option opts [Boolean, Hash] :safe (<code>false</code>)</p>

<pre>run the operation in safe mode, which will run a getlasterror command on the
database to report any assertion. In addition, a hash can be provided to
run an fsync and/or wait for replication of the remove (&gt;= 1.5.1). Safe
options provided here will override any safe options set on this collection,
its database, or the current connection. See the options for DB#get_last_error for more details.</pre>

<p>@example remove all documents from the 'users' collection:</p>

<pre>users.remove
users.remove({})</pre>

<p>@example remove only documents that have expired:</p>

<pre class="ruby"><span class="ruby-identifier">users</span>.<span class="ruby-identifier">remove</span>({:<span class="ruby-identifier">expire</span> =<span class="ruby-operator">&gt;</span> {<span class="ruby-string">&quot;$lte&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>}})
</pre>

<p>@return [<a href="../Hash.html">Hash</a>, true] Returns a <a
href="../Hash.html">Hash</a> containing the last error object if running in
safe mode.</p>

<pre>Otherwise, returns true.</pre>

<p>@raise [Mongo::OperationFailure] an exception will be raised iff safe mode
is enabled</p>

<pre>and the operation fails.</pre>

<p>@core remove remove-instance_method</p>
            

            
            <div class="method-source-code" id="remove-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 383</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">remove</span>(<span class="ruby-identifier">selector</span>={}, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-comment"># Initial byte is 0.</span>
  <span class="ruby-identifier">safe</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:safe</span>, <span class="ruby-ivar">@safe</span>)
  <span class="ruby-identifier">message</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">ByteBuffer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;\00\\00\\00\\00&quot;&quot;</span>)
  <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">BSON_RUBY</span>.<span class="ruby-identifier">serialize_cstr</span>(<span class="ruby-identifier">message</span>, <span class="ruby-node">&quot;#{@db.name}.#{@name}&quot;</span>)
  <span class="ruby-identifier">message</span>.<span class="ruby-identifier">put_int</span>(<span class="ruby-value">0</span>)
  <span class="ruby-identifier">message</span>.<span class="ruby-identifier">put_binary</span>(<span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">BSON_CODER</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">selector</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">true</span>, <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">max_bson_size</span>).<span class="ruby-identifier">to_s</span>)

  <span class="ruby-identifier">instrument</span>(<span class="ruby-value">:remove</span>, <span class="ruby-value">:database</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@name</span>, <span class="ruby-value">:selector</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">selector</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">safe</span>
      <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">send_message_with_safe_check</span>(<span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Constants</span><span class="ruby-operator">::</span><span class="ruby-constant">OP_DELETE</span>, <span class="ruby-identifier">message</span>, <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">name</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">safe</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">send_message</span>(<span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Constants</span><span class="ruby-operator">::</span><span class="ruby-constant">OP_DELETE</span>, <span class="ruby-identifier">message</span>)
      <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- remove-source -->
            
          </div>

          

          
        </div><!-- remove-method -->
      
        <div id="rename-method" class="method-detail ">
          <a name="method-i-rename"></a>

          
          <div class="method-heading">
            <span class="method-name">rename</span><span
              class="method-args">(new_name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Rename this collection.</p>

<p>Note: If operating in auth mode, the client must be authorized as an admin
to perform this operation.</p>

<p>@param [String] new_name the new name for this collection</p>

<p>@return [String] the name of the new collection.</p>

<p>@raise [Mongo::InvalidNSName] if <code>new_name</code> is an invalid
collection name.</p>
            

            
            <div class="method-source-code" id="rename-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 810</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">rename</span>(<span class="ruby-identifier">new_name</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">new_name</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span>, <span class="ruby-constant">String</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-string">&quot;new_name must be a string or symbol&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">new_name</span> = <span class="ruby-identifier">new_name</span>.<span class="ruby-identifier">to_s</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">new_name</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">new_name</span>.<span class="ruby-identifier">include?</span> <span class="ruby-string">&quot;..&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidNSName</span>, <span class="ruby-string">&quot;collection names cannot be empty&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">new_name</span>.<span class="ruby-identifier">include?</span> <span class="ruby-string">&quot;$&quot;</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidNSName</span>, <span class="ruby-string">&quot;collection names must not contain '$'&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">new_name</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">%r^\./</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">new_name</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">%r\.$/</span>)
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidNSName</span>, <span class="ruby-string">&quot;collection names must not start or end with '.'&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">rename_collection</span>(<span class="ruby-ivar">@name</span>, <span class="ruby-identifier">new_name</span>)
  <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">new_name</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- rename-source -->
            
          </div>

          

          
        </div><!-- rename-method -->
      
        <div id="save-method" class="method-detail ">
          <a name="method-i-save"></a>

          
          <div class="method-heading">
            <span class="method-name">save</span><span
              class="method-args">(doc, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Save a document to this collection.</p>

<p>@param [Hash] doc</p>

<pre>the document to be saved. If the document already has an '_id' key,
then an update (upsert) operation will be performed, and any existing
document with that _id is overwritten. Otherwise an insert operation is performed.</pre>

<p>@return [ObjectId] the _id of the saved document.</p>

<p>@option opts [Boolean, Hash] :safe (<code>false</code>)</p>

<pre>run the operation in safe mode, which run a getlasterror command on the
database to report any assertion. In addition, a hash can be provided to
run an fsync and/or wait for replication of the save (&gt;= 1.5.1). See the options
for DB#error.</pre>

<p>@raise [OperationFailure] when :safe mode fails.</p>
            

            
            <div class="method-source-code" id="save-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 306</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save</span>(<span class="ruby-identifier">doc</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:_id</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">doc</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-string">'_id'</span>)
    <span class="ruby-identifier">id</span> = <span class="ruby-identifier">doc</span>[<span class="ruby-value">:_id</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">doc</span>[<span class="ruby-string">'_id'</span>]
    <span class="ruby-identifier">update</span>({<span class="ruby-value">:_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">id</span>}, <span class="ruby-identifier">doc</span>, <span class="ruby-value">:upsert</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, <span class="ruby-value">:safe</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:safe</span>, <span class="ruby-ivar">@safe</span>))
    <span class="ruby-identifier">id</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">insert</span>(<span class="ruby-identifier">doc</span>, <span class="ruby-value">:safe</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:safe</span>, <span class="ruby-ivar">@safe</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- save-source -->
            
          </div>

          

          
        </div><!-- save-method -->
      
        <div id="size-method" class="method-detail method-alias">
          <a name="method-i-size"></a>

          
          <div class="method-heading">
            <span class="method-name">size</span><span
              class="method-args">(opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Collection.html#method-i-count">count</a>
          </div>
          
        </div><!-- size-method -->
      
        <div id="stats-method" class="method-detail ">
          <a name="method-i-stats"></a>

          
          <div class="method-heading">
            <span class="method-name">stats</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Return stats on the collection. Uses MongoDB's collstats command.</p>

<p>@return [Hash]</p>
            

            
            <div class="method-source-code" id="stats-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 853</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">stats</span>
  <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">command</span>({<span class="ruby-value">:collstats</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@name</span>})
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- stats-source -->
            
          </div>

          

          
        </div><!-- stats-method -->
      
        <div id="update-method" class="method-detail ">
          <a name="method-i-update"></a>

          
          <div class="method-heading">
            <span class="method-name">update</span><span
              class="method-args">(selector, document, opts={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Update one or more documents in this collection.</p>

<p>@param [Hash] selector</p>

<pre class="ruby"><span class="ruby-identifier">a</span> <span class="ruby-identifier">hash</span> <span class="ruby-identifier">specifying</span> <span class="ruby-identifier">elements</span> <span class="ruby-identifier">which</span> <span class="ruby-identifier">must</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">present</span> <span class="ruby-keyword">for</span> <span class="ruby-identifier">a</span> <span class="ruby-identifier">document</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">updated</span>. <span class="ruby-constant">Note</span><span class="ruby-operator">:</span>
<span class="ruby-identifier">the</span> <span class="ruby-identifier">update</span> <span class="ruby-identifier">command</span> <span class="ruby-identifier">currently</span> <span class="ruby-identifier">updates</span> <span class="ruby-identifier">only</span> <span class="ruby-identifier">the</span> <span class="ruby-identifier">first</span> <span class="ruby-identifier">document</span> <span class="ruby-identifier">matching</span> <span class="ruby-identifier">the</span>
<span class="ruby-identifier">given</span> <span class="ruby-identifier">selector</span>. <span class="ruby-constant">If</span> <span class="ruby-identifier">you</span> <span class="ruby-identifier">want</span> <span class="ruby-identifier">all</span> <span class="ruby-identifier">matching</span> <span class="ruby-identifier">documents</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">be</span> <span class="ruby-identifier">updated</span>, <span class="ruby-identifier">be</span> <span class="ruby-identifier">sure</span>
<span class="ruby-identifier">to</span> <span class="ruby-identifier">specify</span> :<span class="ruby-identifier">multi</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>.
</pre>

<p>@param [Hash] document</p>

<pre>a hash specifying the fields to be changed in the selected document,
or (in the case of an upsert) the document to be inserted</pre>

<p>@option opts [Boolean] :upsert (<code>false</code>) if true, performs an
upsert (update or insert) @option opts [Boolean] :multi
(<code>false</code>) update all documents matching the selector, as opposed
to</p>

<pre>just the first matching document. Note: only works in MongoDB 1.1.3 or later.</pre>

<p>@option opts [Boolean] :safe (<code>false</code>)</p>

<pre>If true, check that the save succeeded. OperationFailure
will be raised on an error. Note that a safe check requires an extra
round-trip to the database. Safe options provided here will override any safe
options set on this collection, its database object, or the current collection.
See the options for DB#get_last_error for details.</pre>

<p>@return [<a href="../Hash.html">Hash</a>, true] Returns a <a
href="../Hash.html">Hash</a> containing the last error object if running in
safe mode.</p>

<pre>Otherwise, returns true.</pre>

<p>@core update update-instance_method</p>
            

            
            <div class="method-source-code" id="update-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 426</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update</span>(<span class="ruby-identifier">selector</span>, <span class="ruby-identifier">document</span>, <span class="ruby-identifier">opts</span>={})
  <span class="ruby-comment"># Initial byte is 0.</span>
  <span class="ruby-identifier">safe</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:safe</span>, <span class="ruby-ivar">@safe</span>)
  <span class="ruby-identifier">message</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">ByteBuffer</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;\00\\00\\00\\00&quot;&quot;</span>)
  <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">BSON_RUBY</span>.<span class="ruby-identifier">serialize_cstr</span>(<span class="ruby-identifier">message</span>, <span class="ruby-node">&quot;#{@db.name}.#{@name}&quot;</span>)
  <span class="ruby-identifier">update_options</span>  = <span class="ruby-value">0</span>
  <span class="ruby-identifier">update_options</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:upsert</span>]
  <span class="ruby-identifier">update_options</span> <span class="ruby-operator">+=</span> <span class="ruby-value">2</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>[<span class="ruby-value">:multi</span>]
  <span class="ruby-identifier">message</span>.<span class="ruby-identifier">put_int</span>(<span class="ruby-identifier">update_options</span>)
  <span class="ruby-identifier">message</span>.<span class="ruby-identifier">put_binary</span>(<span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">BSON_CODER</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">selector</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">true</span>).<span class="ruby-identifier">to_s</span>)
  <span class="ruby-identifier">message</span>.<span class="ruby-identifier">put_binary</span>(<span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">BSON_CODER</span>.<span class="ruby-identifier">serialize</span>(<span class="ruby-identifier">document</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">true</span>, <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">max_bson_size</span>).<span class="ruby-identifier">to_s</span>)

  <span class="ruby-identifier">instrument</span>(<span class="ruby-value">:update</span>, <span class="ruby-value">:database</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">name</span>, <span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@name</span>, <span class="ruby-value">:selector</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">selector</span>, <span class="ruby-value">:document</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">document</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">safe</span>
      <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">send_message_with_safe_check</span>(<span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Constants</span><span class="ruby-operator">::</span><span class="ruby-constant">OP_UPDATE</span>, <span class="ruby-identifier">message</span>, <span class="ruby-ivar">@db</span>.<span class="ruby-identifier">name</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">safe</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">send_message</span>(<span class="ruby-constant">Mongo</span><span class="ruby-operator">::</span><span class="ruby-constant">Constants</span><span class="ruby-operator">::</span><span class="ruby-constant">OP_UPDATE</span>, <span class="ruby-identifier">message</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- update-source -->
            
          </div>

          

          
        </div><!-- update-method -->
      
      </div><!-- public-instance-method-details -->
    
      <div id="protected-instance-method-details" class="method-section section">
        <h3 class="section-header">Protected Instance Methods</h3>

      
        <div id="normalize_hint_fields-method" class="method-detail ">
          <a name="method-i-normalize_hint_fields"></a>

          
          <div class="method-heading">
            <span class="method-name">normalize_hint_fields</span><span
              class="method-args">(hint)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="normalize_hint_fields-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
               <span class="ruby-comment"># File vendor/bundle/ruby/1.9.1/gems/mongo-1.6.4/lib/mongo/collection.rb, line 874</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">normalize_hint_fields</span>(<span class="ruby-identifier">hint</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">hint</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    {<span class="ruby-identifier">hint</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">hint</span>
  <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">h</span> = <span class="ruby-constant">BSON</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedHash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">hint</span>.<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-value">1</span> }
    <span class="ruby-identifier">h</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
             </code>
            </pre> 
            </div><!-- normalize_hint_fields-source -->
            
          </div>

          

          
        </div><!-- normalize_hint_fields-method -->
      
      </div><!-- protected-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
   
  </div><!-- documentation -->
  <div id='dynamic'></div>
  
<div class='grids wrapper' id="footer">
  
      <p><small>Generated with the <a href="http://neurogami.com/code/">Ruby-doc Rdoc Generator</a> 0.10.0</small>.</p>
  </div>
</div>
 
</body>
</html>
